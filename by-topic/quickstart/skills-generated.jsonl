{"id": "skill_app_generation_001", "question": "Can I generate a complete frontend app from a Prolog specification?", "question_variants": ["How do I generate an app from Prolog?", "Can I create a Vue or React Native app declaratively?", "What's the quickest way to scaffold a frontend project?"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, you can generate complete frontend applications from declarative Prolog specifications. Use the `generate_complete_project/4` predicate with an app specification. Example: `generate_complete_project(app(myapp, [navigation(tabs, [screen(home, 'HomeScreen', []), screen(settings, 'SettingsScreen', [])], [])]), [frontend-vue], '/tmp/myapp', Result)`. This supports Vue 3, React Native, Flutter, and SwiftUI targets.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl"], "tags": ["app-generation", "prolog", "frontend", "scaffolding"]}
{"id": "skill_app_generation_002", "question": "Which frontend frameworks can I use with app generation?", "question_variants": ["What are the supported frontend targets?", "Can I generate a Flutter or SwiftUI app?", "What frameworks does app generation support?"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "App generation supports four frontend targets: `frontend-vue` (Vue 3 + Vite + TypeScript for web), `frontend-react_native` (React Native + Expo for mobile), `frontend-flutter` (Flutter + Dart for cross-platform), and `frontend-swiftui` (SwiftUI for iOS/macOS). Choose the target based on your platform requirements and pass it as the second argument to `generate_complete_project/4`.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl"], "tags": ["frameworks", "frontend-targets", "vue", "react-native", "flutter", "swiftui"]}
{"id": "skill_app_generation_003", "question": "How do I add navigation and screens to my generated app?", "question_variants": ["Can I create tab-based or drawer navigation?", "How do I define screens in the app specification?", "What navigation types are available?"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "Define navigation in your app specification using the `navigation/3` predicate. Supported types are `tabs`, `drawer`, and `stack`. Each screen is defined as `screen(id, 'ComponentName', ScreenOptions)`. Example: `navigation(tabs, [screen(home, 'HomeView', []), screen(profile, 'ProfileView', [])], [])`. Refer to the app specification documentation for more details on available options.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "education/other-books/book-gui-generation/02_app_generation.md"], "tags": ["navigation", "screens", "tabs", "drawer", "stack"]}
{"id": "skill_app_generation_004", "question": "Can I add authentication, theming, and data binding to my generated app?", "question_variants": ["How do I configure authentication in app generation?", "Can I customize the theme and reactive state?", "What advanced features are supported?"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, you can add theming with `theme/2` for colors and dark mode, authentication with `auth/1` options (see skill_webapp_security for details), and data binding with `data_binding/1` for reactive state. These are included as options in the app specification list. For complete authentication configuration, refer to the security skill. Layout features like CSS Grid and Flexbox are available through `layout/2` predicates.", "related_skills": ["skill_app_generation.md", "skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "education/other-books/book-gui-generation/05_data_binding.md", "education/other-books/book-gui-generation/08_theming.md", "pr_shell_sandbox.md"], "tags": ["authentication", "theming", "data-binding", "state-management", "reactive"]}
{"id": "skill_train_model_001", "question": "How do I train a model for my Pearltrees data?", "question_variants": ["How do I create embeddings for my mindmaps?", "What's the process for training a semantic search model?"], "level": 2, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Use the training script to create a federated model from your data:\n\n```bash\npython3 scripts/train_pearltrees_federated.py \\\n  reports/pearltrees_targets.jsonl \\\n  models/pearltrees_federated.pkl \\\n  --cluster-method mst \\\n  --model nomic-ai/nomic-embed-text-v1.5\n```\n\nThe input should be a JSONL file with `target_text` fields (materialized paths work best). The output is a `.pkl` file containing federated W matrices, cluster assignments, and an embedding cache. This trained model enables folder suggestion and bookmark filing.", "related_skills": ["skill_semantic_inference.md", "skill_folder_suggestion.md", "skill_bookmark_filing.md", "skill_train_model.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "docs/QUICKSTART_MINDMAP_LINKING.md", "scripts/train_pearltrees_federated.py"], "tags": ["training", "federated-learning", "embeddings", "model-creation"]}
{"id": "skill_train_model_002", "question": "What input format does the training script expect?", "question_variants": ["How should I format my data for model training?", "What does the JSONL file need to contain?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "The training script expects a JSONL file with each line containing a JSON object with a `target_text` field. Materialized paths (like folder hierarchies) work best:\n\n```jsonl\n{\"id\": \"123\", \"target_text\": \"Science/Physics/Quantum Mechanics\", \"title\": \"Quantum Computing\"}\n{\"id\": \"456\", \"target_text\": \"Science/Biology/Genetics\", \"title\": \"CRISPR Guide\"}\n```\n\nThe `target_text` field should contain the hierarchical path to the target folder or category.", "related_skills": ["skill_train_model.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "book-14-ai-training/02_embedding_providers.md"], "tags": ["data-format", "training-data", "jsonl"]}
{"id": "skill_train_model_003", "question": "Which embedding model should I use?", "question_variants": ["What are the different embedding models available?", "Should I use nomic-embed-text or a smaller model?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Choose based on your needs:\n\n| Model | Dimensions | Notes |\n|-------|------------|-------|\n| `nomic-ai/nomic-embed-text-v1.5` | 768 | **Recommended** - best quality |\n| `sentence-transformers/all-MiniLM-L6-v2` | 384 | Faster, smaller memory footprint |\n| `BAAI/bge-small-en-v1.5` | 384 | Good quality, balanced |\n\nSpecify your choice with the `--model` flag:\n```bash\npython3 scripts/train_pearltrees_federated.py input.jsonl output.pkl \\\n  --model nomic-ai/nomic-embed-text-v1.5\n```", "related_skills": ["skill_train_model.md"], "related_docs": ["book-14-ai-training/02_embedding_providers.md"], "tags": ["embeddings", "models", "configuration"]}
{"id": "skill_train_model_004", "question": "What clustering method should I use for training?", "question_variants": ["Should I use MST or kmeans clustering?", "What are the clustering options?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Choose the clustering method based on your dataset:\n\n| Method | Use Case |\n|--------|----------|\n| `mst` | **Recommended** - preserves folder hierarchy |\n| `kmeans` | Faster for large datasets |\n| `none` | Single global projection (no clustering) |\n\nSpecify with the `--cluster-method` flag:\n```bash\npython3 scripts/train_pearltrees_federated.py input.jsonl output.pkl \\\n  --cluster-method mst \\\n  --max-clusters 50\n```\n\nMST is recommended because it preserves the hierarchical structure of your folder organization.", "related_skills": ["skill_train_model.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "book-14-ai-training/05_training_pipeline.md", "scripts/mindmap/hierarchy_objective.py"], "tags": ["clustering", "mst", "hierarchical", "configuration"]}
{"id": "skill_webapp_security_001", "question": "How do I add authentication to my generated web app?", "question_variants": ["How do I secure my app with login?", "Can I add user authentication to my app?", "How do I set up JWT authentication?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the webapp security skill to add authentication. Import the auth_backends module and configure your app with an authentication backend (jwt, session, oauth2, or basic). For JWT: use `auth([backend(jwt), secret_env('JWT_SECRET'), expiry(3600)])`. For session-based auth, use `auth([backend(session), store(...)])`. Combine with navigation guards to protect routes.", "related_skills": ["skill_webapp_security.md", "skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "docs/FIREWALL_GUIDE.md", "docs/CONTROL_PLANE.md", "education/book-08-security-firewall/01_introduction.md", "education/book-08-security-firewall/05_validation_fallback.md"], "tags": ["authentication", "security", "jwt", "login"]}
{"id": "skill_webapp_security_002", "question": "How do I protect app routes and require login for certain pages?", "question_variants": ["How do I add route guards to my app?", "How do I make admin-only pages?", "Can I restrict access to specific screens?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use navigation guards to protect routes. Define guards in your auth config with `guards([guard(authenticated, '/login'), guard(admin, '/unauthorized')])`. Then apply guards to specific screens in your navigation: `screen(admin, 'AdminView', [guard(admin)])`. Available guard types: `authenticated` (user logged in), `admin` (admin role), `role(RoleName)` (specific role), `permission(Perm)` (specific permission).", "related_skills": ["skill_webapp_security.md", "skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "docs/CONTROL_PLANE.md", "education/book-08-security-firewall/03_lifecycle_hooks.md", "education/book-08-security-firewall/04_target_security.md"], "tags": ["guards", "authorization", "routes", "access-control"]}
{"id": "skill_webapp_security_003", "question": "How do I configure HTTPS/TLS for my app?", "question_variants": ["How do I set up SSL certificates for my app?", "How do I enable secure HTTPS connections?", "Can I configure TLS versions?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the TLS configuration module to set up HTTPS. Import `src/unifyweaver/glue/tls_config` and call `generate_tls_config(tls_options([cert_file('/path/to/cert.pem'), key_file('/path/to/key.pem'), min_version('TLSv1.2')]), ConfigOutput)`. You can configure certificate paths, key files, and minimum TLS version for secure connections.", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/tls_config.pl", "docs/FIREWALL_GUIDE.md", "education/book-08-security-firewall/06_production_hardening.md"], "tags": ["tls", "https", "ssl", "encryption"]}
{"id": "skill_webapp_security_004", "question": "How do I safely execute shell commands in my backend?", "question_variants": ["How do I sandbox shell commands?", "How do I prevent dangerous shell operations?", "Can I whitelist allowed commands and paths?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the shell sandbox module to safely execute commands. Import `src/unifyweaver/glue/shell_sandbox` and call `sandbox_command(command, options, Result)`. Configure with: `allowed_paths(['/tmp', '/var/data'])` (whitelist paths), `denied_commands(['rm', 'sudo'])` (block dangerous commands), and `timeout(30)` (execution limit in seconds). You can also set `max_output(Bytes)` to limit output size.", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/shell_sandbox.pl", "src/unifyweaver/glue/rpyc_security.pl", "docs/FIREWALL_GUIDE.md", "education/book-08-security-firewall/02_firewall_policies.md", "education/book-08-security-firewall/06_production_hardening.md"], "tags": ["shell", "sandbox", "backend", "command-execution"]}
{"id": "skill_app_generation_001", "question": "How do I generate a Vue app from Prolog?", "question_variants": ["Can I create a Vue application using Prolog specifications?", "How to scaffold a Vue 3 project from Prolog?", "Generate a frontend app with Prolog"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "You can generate complete Vue 3 apps from declarative Prolog specifications using `generate_complete_project/4`. Example:\n\n```prolog\n?- use_module('src/unifyweaver/glue/app_generator').\n?- generate_complete_project(\n       app(myapp, [\n           navigation(tabs, [\n               screen(home, 'HomeView', []),\n               screen(profile, 'ProfileView', [])\n           ], [])\n       ]),\n       [frontend-vue],\n       '/path/to/output',\n       Result\n   ).\n```\n\nThis generates a Vue 3 + Vite + TypeScript project with tab navigation. You can also target React Native, Flutter, or SwiftUI by changing the frontend option.", "related_skills": ["skill_app_generation.md"], "related_docs": ["education/other-books/book-gui-generation/01_introduction.md", "education/other-books/book-gui-generation/02_app_generation.md", "src/unifyweaver/glue/app_generator.pl"], "tags": ["app-generation", "vue", "frontend", "scaffolding"]}
{"id": "skill_app_generation_002", "question": "What frontend frameworks can I generate from Prolog?", "question_variants": ["Which UI frameworks does UnifyWeaver support?", "Can I generate React Native apps from Prolog?", "What are the available frontend targets?"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "UnifyWeaver supports generating apps for multiple frameworks:\n\n- **Vue 3** (`frontend-vue`): Web apps with Vite + TypeScript\n- **React Native** (`frontend-react_native`): Mobile apps with Expo\n- **Flutter** (`frontend-flutter`): Cross-platform Dart apps\n- **SwiftUI** (`frontend-swiftui`): iOS/macOS apps\n\nUse `generate_complete_project/4` with the appropriate frontend target. You can also combine with backend options like `backend-fastapi`.", "related_skills": ["skill_app_generation.md"], "related_docs": ["education/other-books/book-gui-generation/01_introduction.md", "education/other-books/book-gui-generation/02_app_generation.md", "src/unifyweaver/glue/app_generator.pl"], "tags": ["app-generation", "frontend", "frameworks", "targets"]}
{"id": "skill_app_generation_003", "question": "How do I add navigation to my generated app?", "question_variants": ["What navigation types are supported in app generation?", "Can I create tab or drawer navigation in Prolog?", "How to specify app screens and navigation?"], "level": 3, "tree_path": ["Quickstart", "App Generation", "Navigation"], "answer": "Specify navigation in your app spec using `navigation(Type, Screens, Options)`. Supported types: `tabs`, `drawer`, `stack`.\n\nExample with tab navigation:\n```prolog\n?- generate_complete_project(\n       app(myapp, [\n           navigation(tabs, [\n               screen(home, 'HomeScreen', []),\n               screen(settings, 'SettingsScreen', [])\n           ], [])\n       ]),\n       [frontend-vue],\n       '/output/path',\n       Result\n   ).\n```\n\nEach screen is defined as `screen(id, 'ComponentName', ScreenOptions)`.", "related_skills": ["skill_app_generation.md"], "related_docs": ["education/other-books/book-gui-generation/02_app_generation.md", "education/other-books/book-gui-generation/04_layout_system.md", "src/unifyweaver/glue/app_generator.pl"], "tags": ["app-generation", "navigation", "tabs", "drawer", "screens"]}
{"id": "skill_app_generation_004", "question": "Can I generate an app with both frontend and backend?", "question_variants": ["How to create a full-stack app from Prolog?", "Can I add a backend API to my generated app?", "Generate app with FastAPI backend"], "level": 3, "tree_path": ["Quickstart", "App Generation", "Full Stack"], "answer": "Yes, you can generate full-stack apps by specifying multiple targets in the options list:\n\n```prolog\n?- generate_complete_project(\n       app(myapp, [\n           navigation(tabs, [...], []),\n           auth([...])\n       ]),\n       [frontend-vue, backend-fastapi],\n       '/output/path',\n       Result\n   ).\n```\n\nThis generates a Vue frontend with a FastAPI backend. You can add authentication, theming, and data binding options to the app spec. See skill_webapp_security.md for auth configuration.", "related_skills": ["skill_app_generation.md", "skill_webapp_security.md"], "related_docs": ["education/other-books/book-gui-generation/02_app_generation.md", "education/other-books/book-gui-generation/05_data_binding.md", "src/unifyweaver/glue/app_generator.pl", "pr_shell_sandbox.md"], "tags": ["app-generation", "full-stack", "backend", "fastapi", "authentication"]}
{"id": "skill_semantic_inference_001", "question": "How do I find similar folders or documents in my data?", "question_variants": ["How can I search for semantically similar content?", "What's the best way to find related folders?", "How do I do semantic search on my bookmarks?"], "level": 2, "tree_path": ["Quickstart", "Semantic Inference"], "answer": "Use the semantic inference script to find similar folders and documents:\n\n```bash\npython3 scripts/infer_pearltrees_federated.py \\\n  --model models/pearltrees_federated.pkl \\\n  --query \"your search query\" \\\n  --top-k 5\n```\n\nThis runs semantic search using your trained federated model. You can also restrict results to specific clusters with `--cluster` or set a minimum similarity threshold with `--threshold`.\n\nSee `skill_semantic_inference.md` for batch processing, interactive mode, and server deployment options.", "related_skills": ["skill_semantic_inference.md", "skill_train_model.md", "skill_bookmark_filing.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "docs/QUICKSTART_MINDMAP_LINKING.md", "scripts/infer_pearltrees_federated.py", "education/book-13-semantic-search/01_introduction.md", "education/book-13-semantic-search/02_graph_rag.md", "education/book-13-semantic-search/05_semantic_playbook.md"], "tags": ["semantic-search", "inference", "similarity", "federated-model"]}
{"id": "skill_semantic_inference_002", "question": "Where should I file this bookmark?", "question_variants": ["How do I know which folder to put a bookmark in?", "Can you suggest folders for my new bookmark?", "What's the best location for organizing this link?"], "level": 2, "tree_path": ["Quickstart", "Semantic Inference", "Bookmark Filing"], "answer": "Use the bookmark filing assistant to get folder suggestions:\n\n```bash\npython3 scripts/bookmark_filing_assistant.py \\\n  --model models/pearltrees_federated.pkl \\\n  --bookmark \"https://example.com/article\" \\\n  --title \"Article Title\" \\\n  --suggest-folders 5\n```\n\nThis analyzes the bookmark and suggests the top 5 most relevant folders based on semantic similarity. Each suggestion includes a confidence score and cluster information.\n\nFor more control, use the general inference script with `--query` set to your bookmark's title or description. See `skill_semantic_inference.md` for details.", "related_skills": ["skill_semantic_inference.md", "skill_bookmark_filing.md", "skill_train_model.md"], "related_docs": ["scripts/bookmark_filing_assistant.py", "scripts/infer_pearltrees_federated.py", "education/book-13-semantic-search/16_bookmark_filing.md", "docs/QUICKSTART_MINDMAP_LINKING.md"], "tags": ["bookmark-filing", "folder-suggestion", "inference", "organization"]}
{"id": "skill_semantic_inference_003", "question": "How do I run predictions on multiple queries at once?", "question_variants": ["Can I process a batch of queries?", "How do I run inference on a file of queries?", "What's the best way to handle bulk semantic search?"], "level": 3, "tree_path": ["Quickstart", "Semantic Inference", "Batch Processing"], "answer": "Use batch inference mode to process multiple queries from a file:\n\n```bash\npython3 scripts/infer_pearltrees_federated.py \\\n  --model \"MODEL.pkl\" \\\n  --input queries.txt \\\n  --output results.jsonl\n```\n\nCreate `queries.txt` with one query per line. Results are written to `results.jsonl` in JSON Lines format, with each line containing the query and its top matches with scores.\n\nFor interactive testing, use `--mode interactive` to get a REPL. For production, use `--mode server` to run an HTTP API endpoint. See `skill_semantic_inference.md` for all inference modes.", "related_skills": ["skill_semantic_inference.md", "skill_train_model.md"], "related_docs": ["scripts/infer_pearltrees_federated.py", "docs/design/FEDERATED_MODEL_FORMAT.md", "education/book-13-semantic-search/06_distributed_search.md", "education/book-13-semantic-search/08_advanced_federation.md"], "tags": ["batch-inference", "bulk-processing", "semantic-search", "automation"]}
{"id": "skill_semantic_inference_004", "question": "How do I use my trained model to make predictions?", "question_variants": ["What do I do after training a model?", "How do I run inference with a federated model?", "How can I use my .pkl model file?"], "level": 2, "tree_path": ["Quickstart", "Semantic Inference", "Model Usage"], "answer": "After training, run inference with your `.pkl` model:\n\n```bash\npython3 scripts/infer_pearltrees_federated.py \\\n  --model models/your_model.pkl \\\n  --query \"your query text\" \\\n  --top-k 10\n```\n\nThis returns the top 10 most similar folders/paths with confidence scores. You can:\n- Set `--threshold` to filter low-confidence results\n- Use `--cluster` to search within a specific cluster only\n- Process multiple queries with `--input` for batch mode\n\nResults include the full path, similarity score, and cluster assignment. See `skill_semantic_inference.md` for output formats and advanced options.", "related_skills": ["skill_semantic_inference.md", "skill_train_model.md", "skill_folder_suggestion.md"], "related_docs": ["scripts/infer_pearltrees_federated.py", "docs/design/FEDERATED_MODEL_FORMAT.md", "docs/QUICKSTART_MINDMAP_LINKING.md", "education/book-13-semantic-search/15_zero_shot_path_mapping.md", "education/book-13-semantic-search/13_advanced_routing.md"], "tags": ["inference", "model-usage", "predictions", "federated-model"]}
{"id": "skill_train_model_001", "question": "How do I train a model for my Pearltrees data?", "question_variants": ["How do I create a semantic search model?", "How do I train embeddings for my mindmap?", "What's the command to train a model for folder suggestions?"], "level": 2, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Train a federated model using `train_pearltrees_federated.py`. Basic usage:\n\n```bash\npython3 scripts/train_pearltrees_federated.py \\\n  reports/pearltrees_targets.jsonl \\\n  models/pearltrees_federated.pkl \\\n  --cluster-method mst \\\n  --model nomic-ai/nomic-embed-text-v1.5\n```\n\nYour input JSONL should have a `target_text` field with materialized paths like \"Science/Physics/Quantum Mechanics\". The output `.pkl` file can then be used for folder suggestion and bookmark filing.\n\nSee `skill_train_model.md` for clustering methods, embedding model options, and input format details.", "related_skills": ["skill_train_model.md", "skill_semantic_inference.md", "skill_folder_suggestion.md", "skill_bookmark_filing.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "docs/QUICKSTART_MINDMAP_LINKING.md", "education/book-14-ai-training/05_training_pipeline.md", "education/book-14-ai-training/03_lda_projection.md", "education/book-14-ai-training/02_embedding_providers.md", "education/book-13-semantic-search/08_advanced_federation.md", "scripts/train_pearltrees_federated.py", "scripts/mindmap/hierarchy_objective.py"], "tags": ["training", "federated-model", "embeddings", "semantic-search", "pearltrees"]}
{"id": "skill_train_model_002", "question": "What embedding models can I use for training?", "question_variants": ["Which embedding model should I choose?", "What's the best embedding model for semantic search?", "Can I use a different embedding model than the default?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model", "Embedding Models"], "answer": "UnifyWeaver supports multiple embedding models:\n\n- **`nomic-ai/nomic-embed-text-v1.5`** (768 dims) - Default, recommended\n- **`sentence-transformers/all-MiniLM-L6-v2`** (384 dims) - Faster, smaller\n- **`BAAI/bge-small-en-v1.5`** (384 dims) - Good quality\n\nSpecify with `--model`:\n```bash\npython3 scripts/train_pearltrees_federated.py \\\n  INPUT.jsonl OUTPUT.pkl \\\n  --model sentence-transformers/all-MiniLM-L6-v2\n```\n\nSee `education/book-14-ai-training/02_embedding_providers.md` for more details on embedding model options.", "related_skills": ["skill_train_model.md"], "related_docs": ["education/book-14-ai-training/02_embedding_providers.md", "scripts/train_pearltrees_federated.py"], "tags": ["embeddings", "models", "configuration", "training"]}
{"id": "skill_train_model_003", "question": "What clustering method should I use for training?", "question_variants": ["Should I use MST or kmeans clustering?", "What's the difference between clustering methods?", "How do I choose a clustering method?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model", "Clustering Methods"], "answer": "UnifyWeaver offers three clustering methods:\n\n- **`mst`** - Recommended, preserves hierarchy structure\n- **`kmeans`** - Faster for large datasets\n- **`none`** - Single global projection (no clustering)\n\nUse `--cluster-method mst` for best results with hierarchical data:\n```bash\npython3 scripts/train_pearltrees_federated.py \\\n  INPUT.jsonl OUTPUT.pkl \\\n  --cluster-method mst \\\n  --max-clusters 50\n```\n\nSee `education/book-13-semantic-search/08_advanced_federation.md` for federation architecture details and `scripts/mindmap/hierarchy_objective.py` for clustering objectives.", "related_skills": ["skill_train_model.md"], "related_docs": ["education/book-13-semantic-search/08_advanced_federation.md", "scripts/mindmap/hierarchy_objective.py", "scripts/train_pearltrees_federated.py"], "tags": ["clustering", "mst", "kmeans", "federation", "hierarchy"]}
{"id": "skill_train_model_004", "question": "What format does my training data need to be in?", "question_variants": ["How do I prepare data for model training?", "What fields does the input JSONL need?", "What does target_text mean in training data?"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model", "Input Format"], "answer": "Training data must be JSONL format with a `target_text` field. Materialized paths work best:\n\n```jsonl\n{\"id\": \"123\", \"target_text\": \"Science/Physics/Quantum Mechanics\", \"title\": \"Quantum Computing\"}\n{\"id\": \"456\", \"target_text\": \"Science/Biology/Genetics\", \"title\": \"CRISPR Guide\"}\n```\n\nThe `target_text` should contain the full hierarchical path (like \"Category/Subcategory/Topic\"). This is used to train the Procrustes projection that maps bookmark embeddings to folder locations.\n\nSee `docs/QUICKSTART_MINDMAP_LINKING.md` for the end-to-end workflow and `education/book-14-ai-training/03_lda_projection.md` for projection method details (note: Procrustes is preferred over LDA).", "related_skills": ["skill_train_model.md"], "related_docs": ["docs/QUICKSTART_MINDMAP_LINKING.md", "docs/design/FEDERATED_MODEL_FORMAT.md", "education/book-14-ai-training/03_lda_projection.md", "education/book-14-ai-training/05_training_pipeline.md"], "tags": ["input-format", "jsonl", "target-text", "data-preparation", "procrustes"]}
{"id": "skill_webapp_security_001", "question": "How do I add authentication to my generated web app?", "question_variants": ["How can I secure my web application with login?", "What's the easiest way to add user authentication?", "How do I add JWT auth to my app?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the `auth` option in `generate_complete_project/4` with a backend like `jwt`, `session`, `oauth2`, or `basic`. For JWT: `auth([backend(jwt), secret_env('JWT_SECRET'), expiry(3600)])`. See `skill_webapp_security.md` for examples of different authentication backends and their configuration options.", "related_skills": ["skill_webapp_security.md", "skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "education/book-08-security-firewall/01_introduction.md", "education/book-08-security-firewall/06_production_hardening.md"], "tags": ["security", "authentication", "jwt", "webapp", "auth"]}
{"id": "skill_webapp_security_002", "question": "How do I protect certain routes so only logged-in users can access them?", "question_variants": ["How do I add route guards?", "How can I restrict pages to authenticated users only?", "How do I make admin-only pages?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use navigation guards in your app specification. Add `guards([guard(authenticated, '/login')])` to the `auth` section, then apply `[guard(authenticated)]` or `[guard(admin)]` to specific screens in your navigation definition. Guards include `authenticated`, `admin`, `role(RoleName)`, and `permission(Perm)`. See `skill_webapp_security.md` for complete guard configuration examples.", "related_skills": ["skill_webapp_security.md", "skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "education/book-08-security-firewall/03_lifecycle_hooks.md"], "tags": ["security", "authorization", "guards", "routes", "navigation", "access-control"]}
{"id": "skill_webapp_security_003", "question": "How do I configure HTTPS/TLS for my application?", "question_variants": ["How can I enable SSL?", "How do I set up secure connections?", "How do I add TLS certificates?"], "level": 3, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the `tls_config` module: `use_module('src/unifyweaver/glue/tls_config')`, then call `generate_tls_config/2` with options like `cert_file`, `key_file`, and `min_version`. Example: `generate_tls_config(tls_options([cert_file('/path/to/cert.pem'), key_file('/path/to/key.pem'), min_version('TLSv1.2')]), ConfigOutput)`. See `skill_webapp_security.md` for TLS configuration details.", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/tls_config.pl", "education/book-08-security-firewall/06_production_hardening.md", "docs/FIREWALL_GUIDE.md"], "tags": ["security", "tls", "https", "ssl", "certificates", "encryption"]}
{"id": "skill_webapp_security_004", "question": "How do I safely run shell commands from my backend without security risks?", "question_variants": ["How can I sandbox shell execution?", "How do I prevent command injection?", "How do I restrict what shell commands can do?"], "level": 3, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the `shell_sandbox` module: `use_module('src/unifyweaver/glue/shell_sandbox')`, then call `sandbox_command/3` with restrictions. Example: `sandbox_command('ls -la /tmp', [allowed_paths(['/tmp']), denied_commands(['rm', 'sudo']), timeout(30)], Result)`. Options include `allowed_paths`, `denied_commands`, `timeout`, and `max_output`. See `skill_webapp_security.md` for complete sandboxing options.", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/shell_sandbox.pl", "education/book-08-security-firewall/05_validation_fallback.md", "education/book-08-security-firewall/04_target_security.md", "docs/CONTROL_PLANE.md"], "tags": ["security", "shell", "sandbox", "command-injection", "backend", "safety"]}
{"id": "skill_app_generation_001", "question": "Can I generate a frontend application using Prolog?", "question_variants": ["How do I scaffold a new app project?", "Does UnifyWeaver support app generation?", "Create a UI from declarative specifications"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, use `generate_complete_project/4` from the `glue/app_generator` module. You can generate apps for Vue, React Native, Flutter, or SwiftUI by providing a declarative `app(...)` specification and a list of targets (e.g., `[frontend-vue]`).", "related_skills": ["skill_app_generation.md", "skill_unifyweaver_compile.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/01_introduction.md", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["app generation", "scaffolding", "frontend", "ui"]}
{"id": "skill_app_generation_002", "question": "How do I generate a Vue 3 web application?", "question_variants": ["Create a Vue project from declarative specs", "Scaffold a Vue.js app using UnifyWeaver", "Generate a web interface"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "Use the `generate_complete_project/4` predicate with the `[frontend-vue]` target. Define your application structure using the `app(Name, Options)` term, including navigation and screens.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["vue", "web", "frontend", "generate_complete_project"]}
{"id": "skill_app_generation_003", "question": "Can I build mobile apps for iOS or Android?", "question_variants": ["How to generate a Flutter app?", "Can I create a React Native project?", "Mobile app generation support"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, UnifyWeaver supports mobile targets. Use `[frontend-flutter]` for Flutter or `[frontend-react_native]` for React Native within the `generate_complete_project/4` predicate.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["mobile", "flutter", "react native", "ios", "android"]}
{"id": "skill_app_generation_004", "question": "How do I generate an app with both a frontend and a backend?", "question_variants": ["Full stack app generation", "Vue plus FastAPI generation", "Can I generate a backend API along with the UI?"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "You can combine targets in the list provided to `generate_complete_project/4`. For example, use `[frontend-vue, backend-fastapi]` to generate both a Vue frontend and a Python FastAPI backend simultaneously.", "related_skills": ["skill_app_generation.md", "skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["full stack", "backend", "fastapi", "integration"]}
{"id": "skill_app_generation_001", "question": "Can I generate a mobile app using Prolog?", "question_variants": ["How to create a React Native app from Prolog?", "Can I generate a Flutter app?", "Generate a mobile interface declaratively"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, use `generate_complete_project/4` with the `frontend-react_native` or `frontend-flutter` target. You define the app structure using terms like `app(Name, [navigation(...), ...])`.", "related_skills": ["skill_app_generation.md", "skill_unifyweaver_compile.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/01_introduction.md", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["app generation", "mobile", "react native", "flutter", "gui"]}
{"id": "skill_app_generation_002", "question": "How do I scaffold a Vue 3 web application?", "question_variants": ["Generate a Vue frontend project", "Create a web app with Prolog", "Scaffold frontend from specification"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "Use `use_module('src/unifyweaver/glue/app_generator')` and call `generate_complete_project/4` with the `[frontend-vue]` target. This generates a Vue 3 + Vite + TypeScript project based on your declarative `app(...)` spec.", "related_skills": ["skill_app_generation.md", "skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/02_app_generation.md", "pr_shell_sandbox.md"], "tags": ["app generation", "vue", "web", "frontend", "scaffolding"]}
{"id": "skill_app_generation_003", "question": "How do I define the navigation structure for a generated app?", "question_variants": ["How to define screens in a generated app?", "Adding tabs to a generated project", "Specifying app layout in Prolog"], "level": 3, "tree_path": ["Quickstart", "App Generation"], "answer": "Define the structure in the `app/2` term passed to `generate_complete_project/4`. Use `navigation(Type, Screens, Options)`, where `Type` is `tabs`, `drawer`, or `stack`, and `Screens` is a list of `screen/3` terms.", "related_skills": ["skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/04_layout_system.md"], "tags": ["app generation", "navigation", "layout", "ui design"]}
{"id": "skill_app_generation_004", "question": "Is it possible to generate a backend API along with the frontend?", "question_variants": ["How to generate a full stack app?", "Adding a backend to the app generation", "Generate Vue with FastAPI backend"], "level": 2, "tree_path": ["Quickstart", "App Generation"], "answer": "Yes, specify multiple targets in the list provided to `generate_complete_project/4`. For example, `[frontend-vue, backend-fastapi]` will generate both a Vue frontend and a FastAPI backend.", "related_skills": ["skill_app_generation.md", "skill_unifyweaver_compile.md"], "related_docs": ["src/unifyweaver/glue/app_generator.pl", "other-books/book-gui-generation/02_app_generation.md"], "tags": ["app generation", "full stack", "backend", "fastapi", "integration"]}
{"id": "skill_semantic_inference_001", "question": "How can I find existing folders that are semantically similar to a specific topic?", "question_variants": ["I want to run a semantic search on my mindmap data.", "How do I use a trained model to find related content?", "How do I query my data using semantic meaning?"], "level": 2, "tree_path": ["Quickstart", "Semantic Inference"], "answer": "You can run semantic inference using a trained federated model. Use the `scripts/infer_pearltrees_federated.py` script with the `--model` and `--query` arguments to find matching folders or documents.", "related_skills": ["skill_semantic_inference.md"], "related_docs": ["scripts/infer_pearltrees_federated.py", "education/book-13-semantic-search/01_introduction.md"], "tags": ["semantic-search", "inference", "python"]}
{"id": "skill_semantic_inference_002", "question": "Is there a tool to suggest where to file a new bookmark?", "question_variants": ["Where should I put this URL in my folder structure?", "Can UnifyWeaver suggest a folder for this article?", "How do I use the bookmark filing assistant?"], "level": 2, "tree_path": ["Quickstart", "Semantic Inference"], "answer": "Yes, use the `scripts/bookmark_filing_assistant.py` tool. You can provide a bookmark URL and title, and it will use your trained model to suggest the most appropriate folders.", "related_skills": ["skill_semantic_inference.md", "skill_bookmark_filing.md"], "related_docs": ["scripts/bookmark_filing_assistant.py", "education/book-13-semantic-search/16_bookmark_filing.md"], "tags": ["bookmarks", "filing", "automation"]}
{"id": "skill_semantic_inference_003", "question": "How do I run inference on multiple queries at once from a file?", "question_variants": ["Can I perform batch semantic search?", "I have a list of queries in a text file, how do I process them?"], "level": 3, "tree_path": ["Quickstart", "Semantic Inference"], "answer": "You can use batch mode by providing an input file. Run `scripts/infer_pearltrees_federated.py` with the `--input` argument pointing to your file of queries, and optionally `--output` to save the results to a JSONL file.", "related_skills": ["skill_semantic_inference.md"], "related_docs": ["scripts/infer_pearltrees_federated.py"], "tags": ["batch-processing", "inference", "cli"]}
{"id": "skill_semantic_inference_004", "question": "How do I restrict the search results to a specific topic cluster?", "question_variants": ["Can I filter semantic search results by cluster?", "How to limit inference to the 'science' category?"], "level": 3, "tree_path": ["Quickstart", "Semantic Inference"], "answer": "Use the `--cluster` argument with the inference script (e.g., `--cluster science`). This restricts the search scope to a specific cluster within your federated model.", "related_skills": ["skill_semantic_inference.md"], "related_docs": ["scripts/infer_pearltrees_federated.py", "education/book-13-semantic-search/13_advanced_routing.md"], "tags": ["filtering", "clustering", "search"]}
{"id": "skill_train_model_001", "question": "How do I train a model for my data?", "question_variants": ["How can I create embeddings for my mindmaps?", "What is the command to train a federated model?"], "level": 2, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Use `scripts/train_pearltrees_federated.py` to train a federated semantic search model. This is a prerequisite for using folder suggestion or bookmark filing tools. The standard command uses the `nomic-embed-text-v1.5` model.", "related_skills": ["skill_train_model.md", "skill_semantic_inference.md"], "related_docs": ["scripts/train_pearltrees_federated.py", "docs/QUICKSTART_MINDMAP_LINKING.md", "book-14-ai-training/05_training_pipeline.md"], "tags": ["training", "federated model", "semantic search"]}
{"id": "skill_train_model_002", "question": "How do I use MST clustering during training?", "question_variants": ["Which clustering method preserves hierarchy best?", "Command to train with minimum spanning tree clustering"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Use the `--cluster-method mst` flag with the training script. MST (Minimum Spanning Tree) is the recommended method as it best preserves the hierarchy of your data structure compared to K-means or global projection.", "related_skills": ["skill_train_model.md"], "related_docs": ["scripts/train_pearltrees_federated.py", "scripts/mindmap/hierarchy_objective.py", "book-14-ai-training/03_lda_projection.md"], "tags": ["mst", "clustering", "hierarchy"]}
{"id": "skill_train_model_003", "question": "Can I use a different embedding model for training?", "question_variants": ["How to specify the Nomic embedding model?", "Change the embedding model in the training script"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "Yes, use the `--model` flag. For example, run `python3 scripts/train_pearltrees_federated.py ... --model nomic-ai/nomic-embed-text-v1.5`. You can also use `sentence-transformers/all-MiniLM-L6-v2` for a faster, smaller model.", "related_skills": ["skill_train_model.md"], "related_docs": ["scripts/train_pearltrees_federated.py", "book-14-ai-training/02_embedding_providers.md"], "tags": ["embeddings", "nomic", "model selection"]}
{"id": "skill_train_model_004", "question": "What input format does the training script expect?", "question_variants": ["How should I format my data for model training?", "JSONL structure for federated model training"], "level": 3, "tree_path": ["Quickstart", "Train Federated Model"], "answer": "The input must be a JSONL file where each line is a JSON object containing a `target_text` field. This field should ideally contain materialized paths (e.g., \"Science/Physics/Quantum Mechanics\") to help the model understand the hierarchy.", "related_skills": ["skill_train_model.md"], "related_docs": ["docs/design/FEDERATED_MODEL_FORMAT.md", "scripts/train_pearltrees_federated.py"], "tags": ["jsonl", "input format", "data preparation"]}
{"id": "skill_webapp_security_001", "question": "How do I add user authentication to a generated application?", "question_variants": ["How can I secure my app with a login?", "Add JWT authentication to my project", "How do I generate a login screen for my app?"], "level": 2, "tree_path": ["Quickstart", "Webapp Security"], "answer": "You can add authentication by including the `auth/1` term within your `app` definition in `generate_complete_project/4`. Specify backends like `jwt` or `session` and configure parameters like secrets and expiry.\n\nExample:\n```prolog\n?- generate_complete_project(\n       app(myapp, [\n           auth([backend(jwt), secret_env('JWT_SECRET')]),\n           navigation(...)\n       ]),\n       [frontend-vue, backend-fastapi], 'OUT', Result).\n```", "related_skills": ["skill_webapp_security.md", "skill_app_generation.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "education/book-08-security-firewall/01_introduction.md"], "tags": ["security", "auth", "jwt", "webapp"]}
{"id": "skill_webapp_security_002", "question": "How do I restrict access to specific pages or routes?", "question_variants": ["How to add admin-only pages?", "Protect routes with navigation guards", "How to redirect unauthorized users?"], "level": 3, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use navigation guards within your `app` definition. Define `guards` in the `auth` section (e.g., `authenticated`, `admin`) and attach specific guards to `screen` definitions in the `navigation` structure.\n\nExample:\n```prolog\nscreen(admin, 'AdminView', [guard(admin)])\n```", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/auth_backends.pl", "docs/CONTROL_PLANE.md"], "tags": ["security", "guards", "navigation", "roles"]}
{"id": "skill_webapp_security_003", "question": "How do I configure HTTPS or TLS certificates for the server?", "question_variants": ["Set up SSL for my web app", "How to use my .pem files for TLS?", "Configure secure connections"], "level": 3, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the `src/unifyweaver/glue/tls_config` module. Call `generate_tls_config/2` with a `tls_options` list containing paths to your certificate (`cert_file`) and private key (`key_file`).\n\nExample:\n```prolog\n?- generate_tls_config(tls_options([cert_file('/path/cert.pem'), key_file('/path/key.pem')]), Config).\n```", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/tls_config.pl", "education/book-08-security-firewall/06_production_hardening.md"], "tags": ["security", "tls", "https", "configuration"]}
{"id": "skill_webapp_security_004", "question": "How can I safely run shell commands or sandbox execution in the backend?", "question_variants": ["Prevent dangerous shell commands", "How to whitelist paths for shell execution?", "Configure shell sandbox limits"], "level": 3, "tree_path": ["Quickstart", "Webapp Security"], "answer": "Use the `src/unifyweaver/glue/shell_sandbox` module. The `sandbox_command/3` predicate allows you to execute commands while defining `allowed_paths`, `denied_commands` (blacklist), and execution timeouts.\n\nExample:\n```prolog\n?- sandbox_command('ls /tmp', [denied_commands(['rm']), timeout(30)], Result).\n```", "related_skills": ["skill_webapp_security.md"], "related_docs": ["src/unifyweaver/glue/shell_sandbox.pl", "docs/FIREWALL_GUIDE.md"], "tags": ["security", "sandbox", "shell", "backend"]}
