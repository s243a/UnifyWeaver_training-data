{"pair_id": "sql-basic-001_p0", "cluster_id": "sql-basic-001", "question": "What comparison operators does the SQL target support?", "question_type": "medium", "answer": "The UnifyWeaver SQL target supports standard comparison operators by directly translating Prolog syntax into SQL expressions. The supported mappings include:\n\n*   `=` (Prolog) translates to `=` (SQL) for equality.\n*   `\\=` (Prolog) translates to `<>` (SQL) for inequality.\n*   `<` (Prolog) translates to `<` (SQL) for less than.\n*   `>` (Prolog) translates to `>` (SQL) for greater than.\n*   `=<` (Prolog) translates to `<=` (SQL) for less than or equal.\n*   `>=` (Prolog) translates to `>=` (SQL) for greater than or equal.\n\nWhen multiple conditions are specified in a clause body, the compiler automatically joins them using `AND` in the generated SQL `WHERE` clause. For further details on basic query structure, refer to `education/book-10-sql-target/02_basic_queries.md`.", "answer_variant": "default", "answer_source": "book-10-sql-target/02_basic_queries.md", "topics": [], "original_answer": "Prolog operators translate directly to SQL:\n| Prolog | SQL | Description |\n|--------|-----|-------------|\n| `=` | `=` | Equal |\n| `\\=` | `<>` | Not equal |\n| `<` | `<` | Less than |\n| `>` | `>` | Greater than |\n| `=<` | `<=` | Less than or equal |\n| `>=` | `>=` | Greater than or equal |\n\nMultiple conditions in clause body become AND in WHERE clause.", "answer_tailored": true}
{"pair_id": "sql-basic-001_p0", "cluster_id": "sql-basic-001", "question": "How do I use ORDER BY, LIMIT, and OFFSET in SQL target?", "question_type": "medium", "answer": "You can use `ORDER BY`, `LIMIT`, and `OFFSET` in the SQL target by including the `sql_order_by/2`, `sql_limit/1`, and `sql_offset/1` predicates directly within your Prolog clause bodies.\n\nTo sort results and limit the total count (e.g., finding the top 5 highest salaries):\n\n```prolog\ntop_5_earners(Name, Salary) :-\n    employees(_, Name, _, Salary, _, _),\n    sql_order_by(Salary, desc),\n    sql_limit(5).\n```\n\nFor pagination, use `sql_offset/1` in conjunction with `sql_limit/1`:\n\n```prolog\n% Fetching the second page of 10 names\npage_2_results(Name) :-\n    employees(_, Name, _, _, _, _),\n    sql_order_by(Name, asc),\n    sql_limit(10),\n    sql_offset(10).\n```\n\nIf you need to sort by multiple columns, invoke `sql_order_by/2` for each column in order of priority. You can find further details in `education/book-10-sql-target/02_basic_queries.md`.", "answer_variant": "default", "answer_source": "book-10-sql-target/02_basic_queries.md", "topics": [], "original_answer": "Use special predicates in the clause body:\n\n```prolog\ntop_5_earners(Name, Salary) :-\n    employees(_, Name, _, Salary, _, _),\n    sql_order_by(Salary, desc),\n    sql_limit(5).\n\n% With pagination (page 2)\npage_2(Name) :-\n    employees(_, Name, _, _, _, _),\n    sql_order_by(Name, asc),\n    sql_limit(10),\n    sql_offset(10).\n```\n\nFor multi-column sort, call `sql_order_by/2` multiple times.", "answer_tailored": true}
{"pair_id": "sql-basic-002_p0", "cluster_id": "sql-basic-002", "question": "How do I use DISTINCT and column aliasing in SQL target?", "question_type": "medium", "answer": "To use `DISTINCT` and column aliasing in UnifyWeaver's SQL target, you employ the `sql_distinct/0` predicate and the `sql_as/2` wrapper respectively.\n\nFor `DISTINCT` queries, include `sql_distinct` within the rule body to ensure unique result rows:\n\n```prolog\n% Retrieve unique department names\nunique_depts(Dept) :-\n    employees(_, _, Dept, _, _, _),\n    sql_distinct.\n```\n\nFor column aliasing, use `sql_as(Source, AliasName)`. This works for both direct column references and computed expressions:\n\n```prolog\n% Standard column aliasing\nemployee_info(EmpName) :-\n    employees(_, Name, _, _, _, _),\n    EmpName = sql_as(Name, employee_name).\n\n% Aliasing a calculated expression\nsalary_k(Name, SalaryK) :-\n    employees(_, Name, _, Salary, _, _),\n    SalaryK = sql_as(Salary / 1000, salary_thousands).\n```\n\nFurther examples of basic query operations can be found in `education/book-10-sql-target/02_basic_queries.md`.", "answer_variant": "default", "answer_source": "book-10-sql-target/02_basic_queries.md", "topics": [], "original_answer": "Use `sql_distinct/0` for unique rows and `sql_as/2` for aliases:\n\n```prolog\n% DISTINCT\nunique_depts(Dept) :-\n    employees(_, _, Dept, _, _, _),\n    sql_distinct.\n\n% Column aliasing\nemployee_info(EmpName) :-\n    employees(_, Name, _, _, _, _),\n    EmpName = sql_as(Name, employee_name).\n\n% With expressions\nsalary_k(Name, SalaryK) :-\n    employees(_, Name, _, Salary, _, _),\n    SalaryK = sql_as(Salary / 1000, salary_thousands).\n```", "answer_tailored": true}
