{"pair_id": "sql-001_p0", "cluster_id": "sql-001", "question": "What is the SQL target in UnifyWeaver?", "question_type": "medium", "answer": "UnifyWeaver\u2019s SQL target is a backend that translates Prolog predicates into declarative SQL queries for relational databases. Unlike the Bash, Go, or Rust targets which produce standalone executable programs, the SQL backend generates code designed for execution within a database engine. You can start using it by loading `use_module('src/unifyweaver/targets/sql_target')` and defining table structures with the `sql_table/2` predicate. For a deeper dive into its setup and usage, see `education/book-10-sql-target/`.", "answer_variant": "default", "answer_source": "book-10-sql-target/01_getting_started.md", "topics": [], "original_answer": "The SQL target compiles Prolog predicates into SQL queries for execution on relational databases. Unlike other targets (Bash, Go, Rust) that produce executable programs, the SQL target generates declarative queries meant for external database execution. Load with `use_module('src/unifyweaver/targets/sql_target')` and declare table schemas with `sql_table/2`.", "answer_tailored": true}
{"pair_id": "sql-001_p0", "cluster_id": "sql-001", "question": "How do I declare SQL table schemas in UnifyWeaver?", "question_type": "medium", "answer": "In UnifyWeaver, you declare SQL table schemas by using the `sql_table/2` directive prior to defining your queries.\n\n```prolog\n:- sql_table(employees, [\n    id-integer,\n    name-text,\n    dept-text,\n    salary-integer\n]).\n```\n\nThe declaration supports standard types like `integer`, `text`, and `real`. Note that the column names defined here map directly to the argument positions of the corresponding Prolog predicates. You can find more information about SQL target configuration in `education/book-10-sql-target/`.", "answer_variant": "default", "answer_source": "book-10-sql-target/01_getting_started.md", "topics": [], "original_answer": "Use `sql_table/2` to declare table schemas before writing queries:\n\n```prolog\n:- sql_table(employees, [\n    id-integer,\n    name-text,\n    dept-text,\n    salary-integer\n]).\n```\n\nSupported types: `integer`, `text`, `real`. Column names map to predicate argument positions.", "answer_tailored": true}
{"pair_id": "sql-002_p0", "cluster_id": "sql-002", "question": "How do I compile a Prolog predicate to SQL?", "question_type": "medium", "answer": "To compile a Prolog predicate into SQL, you use the `compile_predicate_to_sql/3` predicate. This tool translates your Prolog logic into a standard SQL SELECT statement.\n\nFor example, given this predicate:\n```prolog\nhigh_earners(Name, Salary) :-\n    employees(_, Name, _, Salary),\n    Salary > 80000.\n```\n\nYou can generate the corresponding SQL by calling:\n```prolog\n?- compile_predicate_to_sql(high_earners/2, [], SQL).\n% SQL = 'SELECT name, salary FROM employees WHERE salary > 80000;'\n```\n\nIf you need to generate `CREATE VIEW` statements, you can pass options such as `format(view)` along with `view_name(Name)`. For a comprehensive guide on the SQL compilation target, see `education/book-10-sql-target/`.", "answer_variant": "default", "answer_source": "book-10-sql-target/01_getting_started.md", "topics": [], "original_answer": "Use `compile_predicate_to_sql/3`:\n\n```prolog\nhigh_earners(Name, Salary) :-\n    employees(_, Name, _, Salary),\n    Salary > 80000.\n\n?- compile_predicate_to_sql(high_earners/2, [], SQL).\n% SQL = 'SELECT name, salary FROM employees WHERE salary > 80000;'\n```\n\nOptions include `format(view)` with `view_name(Name)` to generate CREATE VIEW statements.", "answer_tailored": true}
