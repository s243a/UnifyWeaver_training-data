{"pair_id": "ai-kgtopo-001_p0", "cluster_id": "ai-kgtopo-001", "question": "What is Knowledge Graph Topology in UnifyWeaver?", "question_type": "medium", "answer": "Knowledge Graph (KG) Topology in UnifyWeaver is a framework of **typed relationships** that maps the connections between different answers and concepts. By defining how information is interlinked, it allows the system to capture prerequisites, extensions, dependencies, and alternative approaches.\n\nThe system utilizes **11 specific relation types** organized into three main categories:\n\n*   **Learning Flow:** Manages the progression of knowledge using `foundational` (core principles), `preliminary` (prerequisites), `compositional` (extensions), and `transitional` (next steps) links.\n*   **Scope:** Defines the breadth of a topic through `refined` (more specific variants) and `general` (broader context) relations.\n*   **Abstraction:** Bridges the gap between theory and practice via `generalization`, `implementation` (code that realizes a pattern), `axiomatization` (abstract theory), `instance`, and `example` (demonstration of a concept).\n\nThis topology ensures that retrieval is not just about isolated facts, but about understanding the context and logical sequence of the information provided. For further details on these relationship models, refer to `education/book-14-ai-training/09_kg_topology.md`.", "answer_variant": "default", "answer_source": "book-14-ai-training/09_kg_topology.md", "topics": [], "original_answer": "KG Topology adds **typed relationships** between answers, capturing:\n- Prerequisites: What should I learn before this?\n- Extensions: What can I learn after this?\n- Dependencies: What concepts does this answer assume?\n- Alternatives: What other approaches exist?\n\n**11 relation types in 3 categories:**\n\n**Learning Flow:**\n- `foundational`: B depends on principles from A\n- `preliminary`: B requires completing A first\n- `compositional`: B extends or builds upon A\n- `transitional`: B is a natural next step after A\n\n**Scope:**\n- `refined`: B is a more specific variant of A\n- `general`: A is broader in scope than B\n\n**Abstraction:**\n- `generalization`: B is an abstract pattern derived from A\n- `implementation`: A is code that realizes pattern B\n- `axiomatization`: B is abstract theory derived from A\n- `instance`: A is a domain that satisfies theory B\n- `example`: A illustrates/demonstrates concept B", "answer_tailored": true}
{"pair_id": "ai-kgtopo-001_p0", "cluster_id": "ai-kgtopo-001", "question": "What is the seed level system for questions?", "question_type": "medium", "answer": "The seed level system in UnifyWeaver is a provenance tracking mechanism that categorizes training questions based on their distance from the original curated dataset. This hierarchy organizes the knowledge graph into specific tiers:\n\n*   **seed(0)**: The foundational layer consisting of original, manually curated Q/A pairs.\n*   **seed(1)**: Questions discovered by exploring the relationships stemming from seed(0).\n*   **seed(2)+**: Subsequent expansions derived from the previous seed level.\n\nThis system is primarily used for data management and pruning priority. While all questions are treated with equal weight during actual training, the system preserves the integrity of the core data by deleting higher-indexed seeds (seed(n)) first during pruning operations. Physically, the data is organized within the `training_data/` directory into subfolders like `seed_0/`, `seed_1/`, and so on.\n\nFor more information on knowledge graph topology and training data provenance, refer to the documentation in `education/book-14-ai-training/`.", "answer_variant": "default", "answer_source": "book-14-ai-training/09_kg_topology.md", "topics": [], "original_answer": "The **seed level** tracks how far a question is from the original curated dataset (provenance tracking):\n\n- **seed(0)**: Original Q/A pairs - the foundation\n- **seed(1)**: Questions discovered by exploring from seed(0)\n- **seed(2)**: Questions discovered by exploring from seed(1)\n- And so on...\n\n**What seed(0) is NOT:**\n- NOT a single \"anchor\" question per answer\n- NOT weighted higher than other seeds (all questions are equal for training)\n- NOT the \"primary key\" for KG relations\n\n**Training data organization:**\n```\ntraining_data/\n\u251c\u2500\u2500 seed_0/           # Original curated data (highest priority)\n\u251c\u2500\u2500 seed_1/           # First expansion\n\u2514\u2500\u2500 seed_n/           # Nth expansion (lowest priority for pruning)\n```\n\n**Pruning priority:** Delete seed(n) first, preserve seed(0).", "answer_tailored": true}
{"pair_id": "ai-kgtopo-001_p0", "cluster_id": "ai-kgtopo-001", "question": "How do I add and query KG relations?", "question_type": "medium", "answer": "To add and query KG relations in UnifyWeaver, you use the `KGTopologyAPI` to define connections between indexed content nodes. This allows the semantic search system to understand conceptual hierarchies like prerequisites and foundational knowledge.\n\n**Adding Relations**\nFirst, initialize the API and index your content, then use `add_kg_relation` to link them with specific relationship types:\n\n```python\nfrom kg_topology_api import KGTopologyAPI\n\napi = KGTopologyAPI(db_path=\"kg.db\", embeddings_path=\"embeddings/\")\n\n# Index the content nodes\ndoc_a = api.add_answer(\"playbooks/auth/jwt.md\", \"JWT details...\")\ndoc_b = api.add_answer(\"playbooks/crypto/signing.md\", \"Signing details...\")\n\n# Link nodes with semantic relationship types\napi.add_kg_relation(doc_b, doc_a, 'foundational')  # doc_b is foundational to doc_a\n```\n\n**Querying Relations**\nYou can traverse the graph using built-in methods to find prerequisites, extensions, or full learning paths:\n\n```python\n# Look up specific relationship directions\nfoundational_docs = api.get_foundational(doc_a)\nprerequisites = api.get_prerequisites(doc_a)\n\n# Identify subsequent topics\nnext_steps = api.get_next_steps(doc_a)\nextensions = api.get_extensions(doc_a)\n\n# Generate a structured learning sequence\npath = api.get_learning_path(doc_a, include_foundational=True, include_prerequisites=True)\n```\n\nFor a comprehensive guide on knowledge graph topology and relationship types, see `education/book-14-ai-training/09_kg_topology.md`.", "answer_variant": "default", "answer_source": "book-14-ai-training/09_kg_topology.md", "topics": [], "original_answer": "**Adding relations:**\n```python\nfrom kg_topology_api import KGTopologyAPI\n\napi = KGTopologyAPI(db_path=\"kg.db\", embeddings_path=\"embeddings/\")\n\n# Create answers\njwt_basics = api.add_answer(\"playbooks/auth/jwt.md\", \"JWT authentication example...\")\ncrypto_signing = api.add_answer(\"playbooks/crypto/signing.md\", \"Cryptographic signing...\")\njwt_refresh = api.add_answer(\"playbooks/auth/refresh.md\", \"JWT refresh tokens...\")\n\n# Add conceptual relations\napi.add_kg_relation(crypto_signing, jwt_basics, 'foundational')  # signing is foundational to JWT\napi.add_kg_relation(jwt_basics, jwt_refresh, 'compositional')    # refresh extends JWT\n```\n\n**Querying relations:**\n```python\n# Get prerequisites for an answer\nfoundational = api.get_foundational(jwt_basics)\nprerequisites = api.get_prerequisites(jwt_basics)\n\n# Get next steps\nextensions = api.get_extensions(jwt_basics)\nnext_steps = api.get_next_steps(jwt_basics)\n\n# Get complete learning path\npath = api.get_learning_path(jwt_basics, include_foundational=True, include_prerequisites=True)\n```", "answer_tailored": true}
{"pair_id": "ai-kgtopo-001_p0", "cluster_id": "ai-kgtopo-001", "question": "How do I detect knowledge gaps in the KG?", "question_type": "medium", "answer": "To detect knowledge gaps in the KG, you can analyze the graph's topology to identify nodes that lack essential incoming or outgoing connections, such as \"orphaned concepts\" or \"dead ends.\"\n\n**Using SQL:**\nQuery the database to locate records where expected relationship types are missing:\n\n```sql\n-- Find answers lacking any outgoing relations (Dead Ends)\nSELECT a.answer_id, a.source_file\nFROM answers a\nLEFT JOIN answer_relations ar ON a.answer_id = ar.from_answer_id\nWHERE ar.relation_id IS NULL;\n\n-- Find answers lacking incoming foundational relations (Orphans)\nSELECT a.answer_id, a.source_file\nFROM answers a\nLEFT JOIN answer_relations ar ON\n    a.answer_id = ar.to_answer_id AND\n    ar.relation_type = 'foundational'\nWHERE ar.relation_id IS NULL;\n```\n\n**Using the Python API:**\nThe UnifyWeaver API provides methods to programmatically flag these missing segments:\n\n```python\ndef detect_gaps(api):\n    return {\n        'orphaned': api.query_answers_without('foundational', 'incoming'),\n        'dead_ends': api.query_answers_without('transitional', 'outgoing'),\n        'no_extensions': api.query_answers_without('compositional', 'outgoing'),\n    }\n```\n\nThese identified gaps highlight high-priority opportunities for generating new content to bridge conceptual breaks. For a deeper dive into knowledge graph maintenance, see `education/book-14-ai-training/09_kg_topology.md`.", "answer_variant": "default", "answer_source": "book-14-ai-training/09_kg_topology.md", "topics": [], "original_answer": "Find areas that need more content:\n\n**SQL queries:**\n```sql\n-- Find answers with no outgoing relations (dead ends)\nSELECT a.answer_id, a.source_file\nFROM answers a\nLEFT JOIN answer_relations ar ON a.answer_id = ar.from_answer_id\nWHERE ar.relation_id IS NULL;\n\n-- Find answers with no foundational relations (orphaned concepts)\nSELECT a.answer_id, a.source_file\nFROM answers a\nLEFT JOIN answer_relations ar ON\n    a.answer_id = ar.to_answer_id AND\n    ar.relation_type = 'foundational'\nWHERE ar.relation_id IS NULL;\n```\n\n**Python API:**\n```python\ndef find_knowledge_gaps(api):\n    return {\n        'orphaned': api.query_answers_without('foundational', 'incoming'),\n        'dead_ends': api.query_answers_without('transitional', 'outgoing'),\n        'no_extensions': api.query_answers_without('compositional', 'outgoing'),\n    }\n```\n\nThese gaps indicate content opportunities for prioritized creation.", "answer_tailored": true}
