{"pair_id": "multi-target-overview_p0", "cluster_id": "multi-target-overview", "question": "Why does UnifyWeaver support multiple target languages?", "question_type": "medium", "answer": "UnifyWeaver supports multiple target languages to provide the flexibility required for different deployment environments, performance goals, and functional needs. By compiling Prolog to various backends, the system allows developers to choose the best fit for their specific infrastructure:\n\n*   **Bash Target:** Ideal for Unix-centric environments where shell integration and minimal dependencies are the priority. It offers good performance and full recursion support via native shell scripting.\n*   **C# Targets:** Designed for cross-platform .NET integration and performance-critical applications. This target offers two distinct modes:\n    *   **Stream Target (`csharp_stream_target.pl`):** Best for non-recursive predicates, utilizing direct LINQ translation for excellent performance in standalone .cs files.\n    *   **Query Runtime (`csharp_query_target.pl`):** Handles complex recursive queries by using an Intermediate Representation (IR) and fixpoint iteration.\n\n### Feature Summary\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| **Recursion** | Full | Limited | Full |\n| **Performance** | Good | Excellent | Very Good |\n| **Environment** | Bash 4.0+ | .NET SDK | .NET SDK + Runtime |\n| **Best Use Case**| Shell scripts | Simple data streams | Recursive logic |\n\nThe choice of target typically depends on whether your logic is recursive and whether you are deploying to a shell-based Unix environment or a .NET-based application. For detailed implementation guides, see `education/book-02-bash-target/` and `education/book-03-csharp-target/`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p1", "cluster_id": "multi-target-overview", "question": "When should I use C# vs Bash target?", "question_type": "medium", "answer": "Choosing between the C# and Bash targets in UnifyWeaver depends on your target environment, performance requirements, and the complexity of your Prolog predicates.\n\n### When to Use Bash\nChoose the Bash target for **Unix-only deployments** where you need deep integration with shell environments and minimal external dependencies (requiring only Bash 4.0+). The Bash target is a robust choice for general-purpose scripts as it supports full recursion natively.\n\n### When to Use C#\nSelect the C# target for **cross-platform (.NET)** applications, scenarios requiring **high performance**, or when integrating UnifyWeaver logic into existing .NET codebases. The C# target offers two specific variants:\n*   **Stream Target (`csharp_stream_target.pl`):** Use this for simple, non-recursive predicates. It generates standalone `.cs` files using direct LINQ translations for maximum execution speed.\n*   **Query Runtime (`csharp_query_target.pl`):** Use this for complex, recursive queries. It utilizes an Intermediate Representation (IR) and fixpoint iteration to handle recursion that the Stream target cannot.\n\n### Technical Comparison\n\n| Feature | Bash Target | C# Stream | C# Query Runtime |\n|---------|-------------|-----------|------------------|\n| **Recursion** | Full Support | Limited | Full Support |\n| **Performance** | Good | Excellent | Very Good |\n| **Deployment** | Shell Scripts | .NET Apps | .NET + Runtime Lib |\n| **Dependencies** | Bash 4.0+ | .NET SDK | .NET SDK + Library |\n\nFor a deeper dive into these compilation targets, see the guides in `education/book-02-bash-target/` and `education/book-03-csharp-target/`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p2", "cluster_id": "multi-target-overview", "question": "What are the C# target variants?", "question_type": "medium", "answer": "UnifyWeaver provides two distinct C# target variants designed to balance performance and logic complexity:\n\n1.  **C# Stream Target (`csharp_stream_target.pl`)**: This variant translates Prolog predicates directly into LINQ expressions. It is highly optimized for speed and is the preferred choice for simple, non-recursive predicates. It generates standalone `.cs` files that are easy to integrate into .NET applications.\n2.  **C# Query Runtime (`csharp_query_target.pl`)**: This variant utilizes an Intermediate Representation (IR) to handle complex logic. It supports full recursion through fixpoint iteration, making it the necessary choice for recursive Prolog queries that exceed the capabilities of the Stream target.\n\nThe selection generally depends on the nature of the predicate: use the **Stream Target** for maximum performance in non-recursive scenarios, and the **Query Runtime** when recursion is required.\n\nFor more detailed information on these targets and their deployment, see the documentation in `education/book-03-csharp-target/`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p3", "cluster_id": "multi-target-overview", "question": "How do I choose between Stream and Query Runtime?", "question_type": "medium", "answer": "Choosing between the C# Stream Target and the Query Runtime depends primarily on whether your Prolog predicates require recursion.\n\n**Use the Stream Target (`csharp_stream_target.pl`) when:**\n- Your logic is non-recursive.\n- You want direct LINQ translation for maximum performance.\n- You need standalone `.cs` files with minimal dependencies.\n- You are compiling simple data transformations or filters.\n\n**Use the Query Runtime (`csharp_query_target.pl`) when:**\n- Your predicates are recursive or involve complex circular dependencies.\n- You require full support for fixpoint iteration via Intermediate Representation (IR).\n- You are building complex analytical queries that require a robust execution engine.\n\nA simple decision rule is: if the predicate is recursive, use the Query Runtime; otherwise, the Stream Target is generally faster and easier to deploy. For a detailed breakdown of target features and dependencies, see `education/book-03-csharp-target/01_introduction_multi_target.md`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "csharp-setup_p0", "cluster_id": "csharp-setup", "question": "How do I set up .NET for UnifyWeaver?", "question_type": "medium", "answer": "To set up .NET for UnifyWeaver, you need to install the .NET SDK (version 6.0 or higher) and ensure SWI-Prolog 8.0+ is available on your system.\n\n### Installation\n\n**Linux/WSL:**\nRun the following commands to use the official installation script:\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload and run the installer from [dotnet.microsoft.com](https://dotnet.microsoft.com/download).\n\n**Termux (Android):**\nUse `proot-distro` to install the SDK within a Debian environment:\n```bash\nproot-distro login debian\napt update && apt install dotnet-sdk-6.0\n```\n\n### Verification\nVerify that the SDK is correctly installed by running:\n```bash\ndotnet --version\ndotnet --list-sdks\n```\n\n### Running Generated C# Code\nAfter generating your C# code with UnifyWeaver, follow these steps to build and execute it:\n1. Initialize a new project: `dotnet new console -n UnifyQuery`\n2. Replace the default `Program.cs` with your output: `mv Generated.cs UnifyQuery/Program.cs`\n3. Build and run:\n   ```bash\n   cd UnifyQuery\n   dotnet build\n   dotnet run\n   ```\n\nFor more detailed information on the C# target and its configuration, refer to `education/book-03-csharp-target/`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p1", "cluster_id": "csharp-setup", "question": "What .NET version is required?", "question_type": "medium", "answer": "UnifyWeaver requires the **.NET SDK version 6.0 or higher**. You will also need SWI-Prolog 8.0+ (as described in Book 01) to support the compilation process.\n\n### Verifying your version\nRun the following command to check your current SDK:\n```bash\ndotnet --version\n# Should output 6.0 or greater\n```\n\n### Quick Installation\n- **Linux/WSL**: Run `./dotnet-install.sh --channel 6.0` after downloading the script from dot.net.\n- **Windows**: Download the installer from the official Microsoft .NET site.\n- **Android (Termux)**: Use `proot-distro login debian` then `apt install dotnet-sdk-6.0`.\n\n### Compiling Generated Code\nAfter generating your `Generated.cs` file:\n1. Initialize a project: `dotnet new console -n MyQuery`\n2. Replace `MyQuery/Program.cs` with the generated code.\n3. Build and execute: `dotnet run`\n\nFor more details on environment configuration for C#, see `education/book-03-csharp-target/01_introduction_multi_target.md`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p2", "cluster_id": "csharp-setup", "question": "How do I verify my .NET installation?", "question_type": "medium", "answer": "To verify your .NET installation for use with UnifyWeaver, you should check the version and installed SDKs through your terminal.\n\nRun the following commands to confirm your environment is correctly configured:\n\n```bash\n# Verify the primary version (UnifyWeaver requires 6.0 or higher)\ndotnet --version\n\n# View all installed SDKs on your system\ndotnet --list-sdks\n```\n\nIf the output displays version 6.0 or greater, your installation is ready for compiling generated C# code. For further setup details or troubleshooting across different platforms like Linux, Windows, or Termux, please consult `education/book-03-csharp-target/01_introduction_multi_target.md`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p3", "cluster_id": "csharp-setup", "question": "How do I compile and run generated C# code?", "question_type": "medium", "answer": "To compile and run C# code generated by UnifyWeaver, you utilize the .NET SDK (version 6.0 or higher). Once you have your `Generated.cs` file, follow this standard workflow:\n\n1.  **Create a New Project**: Use the .NET CLI to initialize a console application:\n    ```bash\n    dotnet new console -n UnifyApp\n    ```\n2.  **Replace the Source Code**: Overwrite the default `Program.cs` with your generated output:\n    ```bash\n    mv Generated.cs UnifyApp/Program.cs\n    ```\n3.  **Execute the Application**: Navigate to the project folder to build and run the code:\n    ```bash\n    cd UnifyApp\n    dotnet build\n    dotnet run\n    ```\n\n### Requirements & Verification\n- **SDK**: .NET SDK 6.0+ is required.\n- **Check Installation**: Run `dotnet --version` and `dotnet --list-sdks` to confirm your environment is ready.\n- **Setup**: On Linux/WSL, use the `dotnet-install.sh` script. On Windows, use the official .NET installer. For Termux users, install the SDK inside a `proot-distro` Debian environment via `apt install dotnet-sdk-6.0`.\n\nFor further details on C# target specifics, see `education/book-03-csharp-target/01_introduction_multi_target.md`. For more general information on this target, refer to the resources in `education/book-03-csharp-target/`.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
