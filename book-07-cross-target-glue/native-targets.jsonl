{"cluster_id": "b7-c9-native-code-gen", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/09_native_code_gen.md"], "topics": ["go-wrapper", "rust-wrapper", "native-code"], "questions": ["How do I generate Go pipe wrappers?", "How do I generate Rust pipe wrappers?", "What is generate_go_pipe_main?"], "answer": {"text": "## Native Code Generation\n\n### Go Pipe Wrapper\n\n```prolog\ngenerate_go_pipe_main(Logic, Options, Code).\n```\n\nGenerates Go code that:\n- Reads from stdin\n- Parses TSV/JSON\n- Processes records\n- Writes to stdout\n\n### Rust Pipe Wrapper\n\n```prolog\ngenerate_rust_pipe_main(Logic, Options, Code).\n```\n\n### Parallel Processing\n\n```prolog\n% Generate Go with 8 parallel workers\ngenerate_go_pipe_main(Logic, [parallel(8)], Code).\n```\n\nGenerates goroutines that process records concurrently.\n\n### Build Script Generation\n\n```prolog\n% Cross-compile for multiple platforms\ngenerate_cross_compile(go, Source, [\n    linux-amd64, darwin-arm64, windows-amd64\n], Script).\n```", "anchor_question_hash": "b7c9001a"}}
{"cluster_id": "b7-c10-native-orchestration", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/10_native_orchestration.md"], "topics": ["binary-management", "cross-compilation", "orchestration"], "questions": ["How do I manage native binaries?", "How does cross-compilation work?", "Can I mix shell and native stages?"], "answer": {"text": "## Native Binary Orchestration\n\n### Binary Management\n\n- Compilation on demand\n- Caching of compiled binaries\n- Version detection\n\n### Cross-Compilation\n\n```bash\n# Build for 5 platforms from one source\nGOOS=linux GOARCH=amd64 go build -o tool-linux-amd64\nGOOS=darwin GOARCH=arm64 go build -o tool-darwin-arm64\nGOOS=windows GOARCH=amd64 go build -o tool-windows.exe\n```\n\n### Mixed Pipelines\n\n```prolog\n% Shell + native in same pipeline\ngenerate_pipeline([\n    step(parse, awk, 'parse.awk', []),\n    step(process, go, 'process', [parallel(4)]),\n    step(format, awk, 'format.awk', [])\n], Options, Script).\n```\n\nThe orchestrator handles:\n- Binary detection\n- Compilation if needed\n- Pipe connections", "anchor_question_hash": "b7c10001a"}}
