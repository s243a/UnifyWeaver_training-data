{"cluster_id": "b7-c5-shell-glue", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/05_shell_glue.md"], "topics": ["shell-glue", "awk-generation", "python-generation"], "questions": ["What is the shell glue module?", "How do I generate AWK scripts?", "What does generate_awk_script/4 do?"], "answer": {"text": "## Shell Script Generation\n\n### Shell Glue Module\n\n```prolog\n:- module(shell_glue, [\n    generate_awk_script/4,      % Complete AWK script\n    generate_python_script/4,   % Complete Python script\n    generate_bash_script/4,     % Complete Bash script\n    generate_pipeline/3         % Pipeline orchestration\n]).\n```\n\n### AWK Generation Example\n\n```prolog\n?- generate_awk_script(\n    'if (status >= 400) print ip, timestamp, status',\n    [ip, timestamp, method, path, status],\n    [format(tsv)],\n    Script\n).\n```\n\n**Generated AWK:**\n\n```awk\nBEGIN { FS = \"\\t\"; OFS = \"\\t\" }\n{\n    ip = $1; timestamp = $2; status = $5\n    if (status >= 400) print ip, timestamp, status\n}\n```", "anchor_question_hash": "b7c5001a"}}
{"cluster_id": "b7-c6-pipeline-orchestration", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/06_shell_pipelines.md", "education/book-07-cross-target-glue/01_introduction.md"], "topics": ["generate-pipeline", "step", "orchestration"], "questions": ["How do I generate a multi-stage pipeline?", "What is generate_pipeline/3?", "How do I define pipeline steps?"], "answer": {"text": "## Pipeline Orchestration\n\n### generate_pipeline/3\n\n```prolog\ngenerate_pipeline(\n    [step(Name, Target, Script, Opts), ...],\n    Options,\n    OutputScript\n).\n```\n\n### Example: ETL Pipeline\n\n```prolog\nexample_pipeline(Script) :-\n    generate_pipeline(\n        [\n            step(fetch_stage, bash, 'fetch.sh', []),\n            step(transform_stage, python, 'transform.py', []),\n            step(store_stage, awk, 'store.awk', [])\n        ],\n        [input('access.log')],\n        Script\n    ).\n```\n\n**Generated Bash:**\n\n```bash\n#!/bin/bash\nset -euo pipefail\n\ncat \"access.log\" \\\n    | bash \"fetch.sh\" \\\n    | python3 \"transform.py\" \\\n    | awk -f \"store.awk\"\n```", "anchor_question_hash": "b7c6001a"}}
