{"cluster_id": "b7-c1-cross-target-overview", "seed_level": 1, "source_files": ["education/book-07-cross-target-glue/01_introduction.md", "education/book-07-cross-target-glue/README.md"], "topics": ["cross-target-glue", "multi-language", "pipelines"], "questions": ["What is cross-target glue?", "Why do I need multi-language pipelines?", "How does UnifyWeaver connect different targets?"], "answer": {"text": "## Cross-Target Glue Overview\n\nCross-target glue enables predicates compiled to different languages to communicate seamlessly.\n\n### The Unix Philosophy Extended\n\n```\nTraditional Unix:    grep | sort | uniq | wc\nCross-target glue:   awk_filter | python_transform | go_aggregate | sql_store\n```\n\n### Location and Transport Model\n\n| Location | Description |\n|----------|-------------|\n| `in_process` | Same runtime (C# calling PowerShell) |\n| `local_process` | Separate process, same machine (pipes) |\n| `remote(Host)` | Different machine (network) |\n\n| Transport | Use Case |\n|-----------|----------|\n| `direct` | Function call (in-process) |\n| `pipe` | Unix pipes with TSV/JSON |\n| `http` | REST API calls |", "anchor_question_hash": "b7c1001a"}}
{"cluster_id": "b7-c1-runtime-families", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/01_introduction.md"], "topics": ["runtime-families", "in-process", "communication"], "questions": ["What are runtime families?", "Which targets can communicate in-process?", "How do .NET targets communicate?"], "answer": {"text": "## Runtime Families\n\nTargets in the same family can communicate more efficiently:\n\n| Family | Targets | Communication |\n|--------|---------|---------------|\n| .NET | C#, PowerShell, IronPython | In-process (zero serialization) |\n| JVM | Java, Scala, Jython | In-process |\n| Shell | Bash, AWK, sed | Pipes |\n| Native | Go, Rust, C | Pipes or shared memory |\n| Python | CPython | Pipes |\n\n### Example: .NET In-Process\n\n```csharp\nvar ps = PowerShell.Create();\nps.AddScript(scriptCode);\nvar results = ps.Invoke<OutputType>();  // Direct object passing!\n```\n\n**Key insight**: C# calling PowerShell passes objects directly. AWK calling Python must serialize.", "anchor_question_hash": "b7c1002a"}}
{"cluster_id": "b7-c2-design-principles", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/02_philosophy.md"], "topics": ["location-transparency", "design-principles", "streaming"], "questions": ["What is location transparency?", "What are the design principles of cross-target glue?", "Why is streaming the default?"], "answer": {"text": "## Cross-Target Design Principles\n\n### 1. Location Transparency\n\nPredicates should be callable regardless of where they execute:\n\n```prolog\nresult(X) :-\n    fetch_data(RawData),      % Maybe Bash/curl\n    analyze(RawData, Result),  % Maybe Python/pandas\n    store(Result, X).          % Maybe SQL on remote DB\n```\n\n### 2. Sensible Defaults with Override\n\n| Scenario | Default |\n|----------|--------|\n| Same runtime family | In-process |\n| Different runtimes | Pipes with TSV |\n| Remote targets | HTTP with JSON |\n\n### 3. Streaming by Default\n\n```bash\n# Works on 100GB with 1MB memory\ncat huge.tsv | awk '{...}' | python3 transform.py | sort\n```\n\nAll stages run concurrently (pipeline parallelism).", "anchor_question_hash": "b7c2001a"}}
{"cluster_id": "b7-c2-data-formats", "seed_level": 2, "source_files": ["education/book-07-cross-target-glue/02_philosophy.md", "education/book-07-cross-target-glue/04_pipe_protocols.md"], "topics": ["tsv", "json", "pipe-protocols"], "questions": ["What data formats does cross-target glue support?", "When should I use TSV vs JSON?", "What is the TSV protocol?"], "answer": {"text": "## Data Format Selection\n\n### TSV: The Default Choice\n\nTSV is default for pipes because:\n- **Universal**: Every language can parse it\n- **Streaming**: Process line-by-line, bounded memory\n- **Debuggable**: `cat`, `head`, `tail` work perfectly\n\n```\nname    age    city\nAlice   30     NYC\nBob     25     LA\n```\n\n### JSON: For Structure\n\nUse JSON when you need:\n- Nested data structures\n- Self-describing format\n- API compatibility\n\n### Protocol Specification\n\n```prolog\n% TSV (default)\ngenerate_pipeline(Steps, [format(tsv)], Script).\n\n% JSON Lines\ngenerate_pipeline(Steps, [format(json)], Script).\n```", "anchor_question_hash": "b7c2002a"}}
