{"cluster_id": "rust-compile-001", "question": "How do I compile Prolog facts to Rust?", "answer": "Use `compile_facts_to_rust/3` for struct-based export:\n\n```prolog\n% Define facts\nuser(john, 25).\nuser(jane, 30).\n\n% Compile\n?- rust_target:compile_facts_to_rust(user, 2, Code).\n```\n\nGenerates a Rust struct with `get_all`, `stream`, and `contains` helper functions. The struct derives Debug, Clone, PartialEq, Eq for easy use with Rust's ownership model.", "source_file": "book-09-rust-target/02_basic_compilation.md", "prerequisites": ["rust-001"]}
{"cluster_id": "rust-compile-001", "question": "How do I compile Prolog rules to Rust stream processors?", "answer": "Rules compile to stream processors reading from stdin:\n\n```prolog\n% Rule: Filter adults\nadult(Name, Age) :- person(Name, Age), Age >= 18.\n\ncompile_rules :-\n    compile_predicate_to_rust(adult/2, [field_delimiter(colon)], Code),\n    write_rust_program(Code, 'adult.rs').\n```\n\nRun with:\n```bash\nrustc adult.rs\necho -e \"alice:25\\nbob:10\" | ./adult\n# Output: alice:25\n```", "source_file": "book-09-rust-target/02_basic_compilation.md", "prerequisites": ["rust-compile-001"]}
{"cluster_id": "rust-compile-002", "question": "How does UnifyWeaver handle recursion patterns in Rust?", "answer": "Three recursion patterns:\n\n| Pattern | API | Generated Rust |\n|---------|-----|----------------|\n| Tail Recursion | `compile_tail_recursion_rust/3` | for loop (O(1) stack) |\n| Linear Recursion | `compile_linear_recursion_rust/3` | HashMap memoization |\n| Mutual Recursion | `compile_mutual_recursion_rust/3` | thread_local! HashMap |\n\nExample tail recursion:\n```prolog\n?- rust_target:compile_tail_recursion_rust(sum_list/3, [], Code).\n```\n\nGenerates efficient iterative Rust code instead of recursive calls.", "source_file": "book-09-rust-target/02_basic_compilation.md", "prerequisites": ["rust-compile-001"]}
{"cluster_id": "rust-compile-002", "question": "How do I compile mutual recursion (is_even/is_odd) to Rust?", "answer": "Use `compile_mutual_recursion_rust/3` for predicates that call each other:\n\n```prolog\nassertx((is_even(0))).\nassertx((is_even(N) :- N > 0, N1 is N - 1, is_odd(N1))).\nassertx((is_odd(1))).\nassertx((is_odd(N) :- N > 1, N1 is N - 1, is_even(N1))).\n\n?- rust_target:compile_mutual_recursion_rust([is_even/1, is_odd/1], [], Code).\n```\n\nGenerates Rust with thread_local! HashMap for shared memoization between the mutually recursive functions.", "source_file": "book-09-rust-target/02_basic_compilation.md", "prerequisites": ["rust-compile-002"]}
