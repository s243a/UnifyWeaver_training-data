{"pair_id": "multi-target-overview_p0", "cluster_id": "multi-target-overview", "question": "Why does UnifyWeaver support multiple target languages?", "question_type": "medium", "answer": "UnifyWeaver supports multiple target languages to provide flexibility in deployment environments and performance characteristics. Different targets excel in different scenarios:\n\n**Bash** is ideal when you need shell integration, have Unix-only deployments, or want minimal dependencies beyond Bash 4.0+. It offers good performance and generates standalone shell scripts.\n\n**C#** targets are optimal for cross-platform .NET deployments, performance-critical applications, and integration with existing .NET codebases. UnifyWeaver provides two C# variants:\n\n- **Stream Target** (`csharp_stream_target.pl`) - Direct LINQ translation for simple, non-recursive predicates. Produces standalone .cs files with excellent performance.\n- **Query Runtime** (`csharp_query_target.pl`) - Uses an Intermediate Representation (IR) with fixpoint iteration to handle complex recursive queries. Requires the UnifyWeaver runtime library.\n\n**Additional targets** (Python, Go, Rust, PowerShell, SQL) extend reach to other ecosystems - Python for data science integration, Go/Rust for systems programming, PowerShell for Windows automation, and SQL for database queries.\n\nThe multi-target approach means you write Prolog once and deploy to whichever environment best suits your needs\u2014whether that's a shell script, a high-performance .NET application, or a database query. Each target maintains the same Prolog semantics while leveraging native platform capabilities.\n\nFor implementation details, see education/book-02-bash-target/ and education/book-03-csharp-target/.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p1", "cluster_id": "multi-target-overview", "question": "When should I use C# vs Bash target?", "question_type": "medium", "answer": "The choice between C# and Bash targets depends on your deployment environment and requirements:\n\n**Choose C# target when:**\n- You need cross-platform deployment via .NET (Windows, Linux, macOS)\n- Performance is critical - C# offers excellent to very good performance\n- You're integrating with existing .NET applications or libraries\n- You require .NET SDK capabilities and ecosystem\n\n**Choose Bash target when:**\n- Deploying exclusively on Unix/Linux systems\n- You need direct shell integration and scripting capabilities\n- Minimal dependencies are important (only requires Bash 4.0+)\n- You prefer lightweight shell script deployment\n\n**Performance considerations:**\n- Bash: Good performance, suitable for most tasks\n- C# Stream: Excellent performance for non-recursive predicates\n- C# Query Runtime: Very good performance, handles recursion\n\n**Deployment trade-offs:**\n- Bash produces standalone shell scripts\n- C# Stream generates standalone .cs files requiring .NET SDK\n- C# Query Runtime needs .NET SDK plus the query runtime library\n\nFor recursive predicates specifically, C# Query Runtime uses fixpoint iteration to handle recursion properly, while C# Stream Target works best for simpler, non-recursive cases. See education/book-03-csharp-target/ for detailed implementation examples and education/book-02-bash-target/ for Bash-specific patterns.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p2", "cluster_id": "multi-target-overview", "question": "What are the C# target variants?", "question_type": "medium", "answer": "UnifyWeaver provides two C# compilation targets:\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Translates Prolog directly to LINQ expressions\n- Produces standalone .cs files\n- Best suited for simple, non-recursive predicates\n- Offers excellent performance for straightforward queries\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Compiles through an Intermediate Representation (IR)\n- Handles recursion using fixpoint iteration\n- Ideal for complex recursive queries\n- Requires the UnifyWeaver query runtime library\n\n**Choosing Between Them:**\n- Non-recursive predicates \u2192 Stream Target (faster, simpler output)\n- Recursive predicates \u2192 Query Runtime (full recursion support)\n\nBoth variants require .NET SDK, but Query Runtime also depends on the runtime library. See education/book-03-csharp-target/ for implementation details and examples.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "multi-target-overview_p3", "cluster_id": "multi-target-overview", "question": "How do I choose between Stream and Query Runtime?", "question_type": "medium", "answer": "The choice between Stream and Query Runtime depends primarily on whether your predicate uses recursion:\n\n**Use Stream Target** (`csharp_stream_target.pl`) when:\n- Your predicates are non-recursive or have simple iteration\n- You need maximum performance with direct LINQ translation\n- You want standalone .cs files without additional runtime dependencies\n- Your queries are straightforward data transformations\n\n**Use Query Runtime** (`csharp_query_target.pl`) when:\n- Your predicates involve recursion (self-referencing rules)\n- You need fixpoint iteration for complex logic\n- You're working with transitive closures or graph traversals\n- You require the full power of Prolog's recursive capabilities\n\n**Quick Decision Rule:**\nIf your Prolog predicate calls itself (directly or indirectly), use Query Runtime. Otherwise, Stream Target will give you better performance.\n\nBoth require .NET SDK, but Query Runtime also needs the runtime library. Stream Target produces simpler, faster code by translating directly to LINQ operations, while Query Runtime uses an Intermediate Representation (IR) to handle recursion through iterative fixpoint computation.\n\nFor implementation details and examples of each approach, see `education/book-03-csharp-target/` and the comparison in `docs/proposals/` covering C# target architecture.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["multi-target", "csharp", "bash", "compilation"], "original_answer": "## Multi-Target Compilation\n\nUnifyWeaver compiles Prolog to multiple targets:\n\n### Target Comparison\n\n| Feature | Bash | C# Stream | C# Query Runtime |\n|---------|------|-----------|------------------|\n| Recursion | Full | Limited | Full |\n| Performance | Good | Excellent | Very Good |\n| Deployment | Shell scripts | .NET apps | .NET + Runtime |\n| Dependencies | Bash 4.0+ | .NET SDK | .NET SDK + lib |\n\n### C# Target Variants\n\n**1. Stream Target** (`csharp_stream_target.pl`)\n- Direct LINQ translation\n- Best for: Simple, non-recursive predicates\n- Output: Standalone .cs files\n\n**2. Query Runtime** (`csharp_query_target.pl`)\n- Uses Intermediate Representation (IR)\n- Supports recursion via fixpoint iteration\n- Best for: Complex recursive queries\n\n### Decision Tree\n\n```\nIs predicate recursive?\n\u251c\u2500 NO  \u2192 Use Stream Target (faster)\n\u2514\u2500 YES \u2192 Use Query Runtime (handles recursion)\n```\n\n### When to Use Each\n\n**Use Bash when:**\n- Unix-only deployment\n- Shell integration needed\n- Minimal dependencies\n\n**Use C# when:**\n- Cross-platform (.NET)\n- Performance-critical\n- Integration with .NET apps", "answer_tailored": true}
{"pair_id": "csharp-setup_p0", "cluster_id": "csharp-setup", "question": "How do I set up .NET for UnifyWeaver?", "question_type": "medium", "answer": "To set up .NET for UnifyWeaver, you'll need .NET SDK 6.0 or later and SWI-Prolog 8.0+.\n\n**On Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**On Windows:**\nDownload the installer from https://dotnet.microsoft.com/download\n\n**Verify your setup:**\n```bash\ndotnet --version  # Should display 6.0 or higher\ndotnet --list-sdks  # Shows all installed SDK versions\n```\n\n**Test with generated C# code:**\n```bash\ndotnet new console -n MyQuery\nmv Generated.cs MyQuery/Program.cs\ncd MyQuery\ndotnet build && dotnet run\n```\n\n**For Android Termux users:**\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```\n\nFor comprehensive C# target documentation, see education/book-03-csharp-target/.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p1", "cluster_id": "csharp-setup", "question": "What .NET version is required?", "question_type": "medium", "answer": "UnifyWeaver's C# target requires .NET SDK 6.0 or higher. You can verify your installed version with `dotnet --version`, which should display 6.0 or greater. The .NET SDK is needed to compile and execute the C# code generated by UnifyWeaver's Prolog-to-C# compiler.\n\nTo install on Linux/WSL, download and run the dotnet-install.sh script from dot.net. On Windows, get the installer from dotnet.microsoft.com/download. For Android Termux users, install via proot-distro debian with `apt install dotnet-sdk-6.0`.\n\nFor complete setup instructions including project creation and compilation steps, see education/book-03-csharp-target/01_introduction_multi_target.md.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p2", "cluster_id": "csharp-setup", "question": "How do I verify my .NET installation?", "question_type": "medium", "answer": "To verify your .NET installation for UnifyWeaver, run these commands:\n\n```bash\ndotnet --version\n# Should display 6.0 or higher\n\ndotnet --list-sdks\n# Shows all installed SDK versions\n```\n\nUnifyWeaver requires .NET SDK 6.0 or higher to compile and run C# target code generated from Prolog queries.\n\n**Installation if needed:**\n\nOn Linux/WSL:\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\nOn Windows, download from https://dotnet.microsoft.com/download\n\nOn Android Termux (proot-distro debian):\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```\n\nOnce verified, you can compile generated C# code using `dotnet build` and execute it with `dotnet run`. See education/book-03-csharp-target/01_introduction_multi_target.md for complete setup instructions.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
{"pair_id": "csharp-setup_p3", "cluster_id": "csharp-setup", "question": "How do I compile and run generated C# code?", "question_type": "medium", "answer": "To compile and run C# code generated by UnifyWeaver:\n\n```bash\n# Create a new console project\ndotnet new console -n MyQuery\n\n# Replace the default Program.cs with your generated code\nmv Generated.cs MyQuery/Program.cs\n\n# Build the project\ncd MyQuery\ndotnet build\n\n# Execute the compiled program\ndotnet run\n```\n\n**Prerequisites:**\n- .NET SDK 6.0+ installed (`dotnet --version` to verify)\n- SWI-Prolog 8.0+ (covered in education/book-01-foundations/)\n\n**Installing .NET SDK:**\n\nOn Linux/WSL:\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\nOn Windows: Download from https://dotnet.microsoft.com/download\n\nFor Android Termux with proot-distro:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\n```\n\nVerify your setup with `dotnet --list-sdks` to confirm SDK installation.", "answer_variant": "default", "answer_source": "education/book-03-csharp-target/01_introduction_multi_target.md", "topics": ["dotnet", "setup", "installation", "csharp"], "original_answer": "## .NET Setup for UnifyWeaver\n\n### Requirements\n\n- .NET SDK 6.0 or higher\n- SWI-Prolog 8.0+ (from Book 1)\n\n### Installation\n\n**Linux/WSL:**\n```bash\nwget https://dot.net/v1/dotnet-install.sh\nchmod +x dotnet-install.sh\n./dotnet-install.sh --channel 6.0\n```\n\n**Windows:**\nDownload from: https://dotnet.microsoft.com/download\n\n### Verify Installation\n\n```bash\ndotnet --version\n# Should show 6.0 or higher\n\ndotnet --list-sdks\n# Lists installed SDK versions\n```\n\n### Compile and Run Generated Code\n\n```bash\n# Create project\ndotnet new console -n MyQuery\n\n# Copy generated file\nmv Generated.cs MyQuery/Program.cs\n\n# Build and run\ncd MyQuery\ndotnet build\ndotnet run\n```\n\n### Termux/proot-distro\n\nOn Android Termux, use proot-distro debian:\n```bash\nproot-distro login debian\napt install dotnet-sdk-6.0\ndotnet --version\n```", "answer_tailored": true}
