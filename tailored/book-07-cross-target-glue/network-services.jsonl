{"pair_id": "b7-c11-http-services_p0", "cluster_id": "b7-c11-http-services", "question": "How do I generate HTTP servers?", "question_type": "medium", "answer": "UnifyWeaver generates HTTP servers across multiple target languages using predicates like `generate_go_http_server/3`, `generate_python_http_server/3`, and `generate_rust_http_server/3`. Each takes endpoints, options, and produces server code in the respective language.\n\nThe generated servers follow a consistent API response format:\n- Success: `{\"success\": true, \"data\": <result>}`\n- Failure: `{\"success\": false, \"error\": \"message\"}`\n\nYou can configure services using the registry system:\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n```\n\nThen query service details with `service/2` to get base URLs or `endpoint_url/3` to construct full endpoint paths.\n\nFor comprehensive examples and implementation details, see education/book-07-cross-target-glue/11_http_services.md.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/11_http_services.md", "topics": ["http-server", "service-registry", "network-glue"], "original_answer": "## HTTP Services\n\n### Service Registry\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n\n?- service(ml_api, URL).\nURL = 'http://ml.example.com:8080'.\n\n?- endpoint_url(ml_api, '/predict', URL).\nURL = 'http://ml.example.com:8080/predict'.\n```\n\n### HTTP Server Generation\n\n```prolog\ngenerate_go_http_server(Endpoints, Options, ServerCode).\ngenerate_python_http_server(Endpoints, Options, ServerCode).\ngenerate_rust_http_server(Endpoints, Options, ServerCode).\n```\n\n### Consistent API Format\n\n```json\n{\"success\": true, \"data\": <result>}\n{\"success\": false, \"error\": \"message\"}\n```", "answer_tailored": true}
{"pair_id": "b7-c11-http-services_p1", "cluster_id": "b7-c11-http-services", "question": "What is the service registry?", "question_type": "medium", "answer": "The service registry is a mechanism for declaring and looking up HTTP service endpoints in UnifyWeaver. You register services with `register_service/3`, specifying a service name, base URL, and configuration options like timeout, retries, and data format. For example:\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n```\n\nOnce registered, you can query the service URL with `service/2` or build full endpoint URLs using `endpoint_url/3`:\n\n```prolog\n?- service(ml_api, URL).\nURL = 'http://ml.example.com:8080'.\n\n?- endpoint_url(ml_api, '/predict', URL).\nURL = 'http://ml.example.com:8080/predict'.\n```\n\nThis registry approach enables consistent service configuration across different target languages and centralizes endpoint management. See education/book-07-cross-target-glue/11_http_services.md for complete details on HTTP service integration.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/11_http_services.md", "topics": ["http-server", "service-registry", "network-glue"], "original_answer": "## HTTP Services\n\n### Service Registry\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n\n?- service(ml_api, URL).\nURL = 'http://ml.example.com:8080'.\n\n?- endpoint_url(ml_api, '/predict', URL).\nURL = 'http://ml.example.com:8080/predict'.\n```\n\n### HTTP Server Generation\n\n```prolog\ngenerate_go_http_server(Endpoints, Options, ServerCode).\ngenerate_python_http_server(Endpoints, Options, ServerCode).\ngenerate_rust_http_server(Endpoints, Options, ServerCode).\n```\n\n### Consistent API Format\n\n```json\n{\"success\": true, \"data\": <result>}\n{\"success\": false, \"error\": \"message\"}\n```", "answer_tailored": true}
{"pair_id": "b7-c11-http-services_p2", "cluster_id": "b7-c11-http-services", "question": "How do I register a service?", "question_type": "medium", "answer": "To register a service in UnifyWeaver, use the `register_service/3` predicate with the service name, URL, and options:\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n```\n\nOnce registered, you can query the service URL and construct endpoint URLs:\n\n```prolog\n?- service(ml_api, URL).\nURL = 'http://ml.example.com:8080'.\n\n?- endpoint_url(ml_api, '/predict', URL).\nURL = 'http://ml.example.com:8080/predict'.\n```\n\nThe service registry supports configuration options like timeouts, retry policies, and response formats. For HTTP server generation and API design patterns, see education/book-07-cross-target-glue/11_http_services.md.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/11_http_services.md", "topics": ["http-server", "service-registry", "network-glue"], "original_answer": "## HTTP Services\n\n### Service Registry\n\n```prolog\nregister_service(ml_api, 'http://ml.example.com:8080', [\n    timeout(60),\n    retries(3),\n    format(json)\n]).\n\n?- service(ml_api, URL).\nURL = 'http://ml.example.com:8080'.\n\n?- endpoint_url(ml_api, '/predict', URL).\nURL = 'http://ml.example.com:8080/predict'.\n```\n\n### HTTP Server Generation\n\n```prolog\ngenerate_go_http_server(Endpoints, Options, ServerCode).\ngenerate_python_http_server(Endpoints, Options, ServerCode).\ngenerate_rust_http_server(Endpoints, Options, ServerCode).\n```\n\n### Consistent API Format\n\n```json\n{\"success\": true, \"data\": <result>}\n{\"success\": false, \"error\": \"message\"}\n```", "answer_tailored": true}
{"pair_id": "b7-c12-distributed-pipelines_p0", "cluster_id": "b7-c12-distributed-pipelines", "question": "How do I create distributed pipelines?", "question_type": "medium", "answer": "To create distributed pipelines in UnifyWeaver, you can combine local and remote processing steps through network orchestration. Use `generate_pipeline/3` to define a sequence of operations across different execution contexts:\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\nThis creates a pipeline mixing local steps (AWK parsing, Python formatting) with remote HTTP service calls.\n\nFor the HTTP communication layer, generate target-specific clients:\n\n```prolog\ngenerate_go_http_client(Services, Options, ClientCode).\ngenerate_python_http_client(Services, Options, ClientCode).\ngenerate_bash_http_client(Services, Options, ClientCode).\n```\n\nAdd resilience to remote connections with retry policies, timeouts, and fallback services:\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```\n\nFor more details on cross-target integration patterns, see education/book-07-cross-target-glue/.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/12_distributed_pipelines.md", "topics": ["distributed", "http-client", "network-pipeline"], "original_answer": "## Distributed Pipelines\n\n### HTTP Client Generation\n\n```prolog\ngenerate_go_http_client(Services, Options, ClientCode).\ngenerate_python_http_client(Services, Options, ClientCode).\ngenerate_bash_http_client(Services, Options, ClientCode).\n```\n\n### Network Pipeline Orchestration\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\n### Error Handling Strategies\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```", "answer_tailored": true}
{"pair_id": "b7-c12-distributed-pipelines_p1", "cluster_id": "b7-c12-distributed-pipelines", "question": "How do I generate HTTP clients?", "question_type": "medium", "answer": "UnifyWeaver provides predicates for generating HTTP clients in multiple target languages. Use `generate_go_http_client(Services, Options, ClientCode)` to create Go clients, `generate_python_http_client(Services, Options, ClientCode)` for Python, or `generate_bash_http_client(Services, Options, ClientCode)` for Bash. These predicates take a service specification and options, then produce the client code needed to interact with remote HTTP endpoints.\n\nYou can integrate these generated clients into distributed pipelines that orchestrate multi-step workflows across local and remote services:\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\nFor resilient network communication, declare connection policies with retry logic, timeouts, and fallback strategies:\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```\n\nSee education/book-07-cross-target-glue/12_distributed_pipelines.md for complete examples of distributed pipeline patterns.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/12_distributed_pipelines.md", "topics": ["distributed", "http-client", "network-pipeline"], "original_answer": "## Distributed Pipelines\n\n### HTTP Client Generation\n\n```prolog\ngenerate_go_http_client(Services, Options, ClientCode).\ngenerate_python_http_client(Services, Options, ClientCode).\ngenerate_bash_http_client(Services, Options, ClientCode).\n```\n\n### Network Pipeline Orchestration\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\n### Error Handling Strategies\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```", "answer_tailored": true}
{"pair_id": "b7-c12-distributed-pipelines_p2", "cluster_id": "b7-c12-distributed-pipelines", "question": "Can I mix local and remote steps?", "question_type": "medium", "answer": "Yes, you can mix local and remote steps in UnifyWeaver's distributed pipelines. The network pipeline orchestration allows you to chain together steps that execute locally (using targets like awk, python, bash) with remote steps that call HTTP services.\n\nFor example, you can define a pipeline that parses data locally with awk, sends it to a remote ML service via HTTP, and then formats the results locally with Python:\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\nUnifyWeaver generates the necessary HTTP client code for remote communication:\n\n```prolog\ngenerate_go_http_client(Services, Options, ClientCode).\ngenerate_python_http_client(Services, Options, ClientCode).\ngenerate_bash_http_client(Services, Options, ClientCode).\n```\n\nYou can also configure error handling for remote connections with retry policies, timeouts, and local fallbacks:\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```\n\nSee education/book-07-cross-target-glue/12_distributed_pipelines.md for complete details on distributed pipeline patterns.", "answer_variant": "default", "answer_source": "education/book-07-cross-target-glue/12_distributed_pipelines.md", "topics": ["distributed", "http-client", "network-pipeline"], "original_answer": "## Distributed Pipelines\n\n### HTTP Client Generation\n\n```prolog\ngenerate_go_http_client(Services, Options, ClientCode).\ngenerate_python_http_client(Services, Options, ClientCode).\ngenerate_bash_http_client(Services, Options, ClientCode).\n```\n\n### Network Pipeline Orchestration\n\n```prolog\ngenerate_pipeline([\n    step(local_parse, awk, 'parse.awk', []),\n    step(remote_ml, http, 'http://ml.api:8080/predict', []),\n    step(local_format, python, 'format.py', [])\n], Options, Script).\n```\n\n### Error Handling Strategies\n\n```prolog\n:- declare_connection(caller/2, remote_service/2, [\n    retry(3),\n    timeout(30),\n    fallback(local_service/2)\n]).\n```", "answer_tailored": true}
