{"pair_id": "template-system_p0", "cluster_id": "template-system", "question": "How does UnifyWeaver's template system work?", "question_type": "medium", "answer": "UnifyWeaver's template system generates clean target code by using named templates with variable substitution instead of string concatenation.\n\n**Core Mechanism:**\nInstead of messy format strings like `format(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body])`, you call `render_named_template(bash_header, [name=Name, body=Body], Code)` which renders a named template with provided variables.\n\n**Template Resolution:**\nTemplates are resolved from multiple sources in priority order:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n1. **file** - External template files in `templates/name.tmpl.sh`\n2. **cached** - In-memory cache (saved to `templates/cache/`)\n3. **generated** - Built-in `template/2` facts defined in code\n\n**Variable Substitution:**\nTemplates use `{{variable}}` syntax for placeholders:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\n**Customization Workflow:**\nTo override default templates, configure file-first lookup with `set_template_config_default([source_order([file, generated])])`, then create your custom template file like `templates/bash_header.tmpl.sh`. Templates auto-load when referenced.\n\n**Caching:**\nEnable automatic caching with `auto_cache(true)` to persist rendered templates to disk for inspection and reuse.\n\nFor complete examples, see `education/book-02-bash-target/05_template_system.md`.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "code-generation", "customization", "named-templates"], "original_answer": "## The Template System\n\nUnifyWeaver uses named templates to generate Bash code cleanly.\n\n### Why Templates?\n\n**Bad (concatenation):**\n```prolog\nformat(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body]).\n```\n\n**Good (templates):**\n```prolog\nrender_named_template(bash_header, [name=Name, body=Body], Code).\n```\n\n### Template Source Order\n\nTemplates are loaded from multiple sources:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n| Priority | Source | Location |\n|----------|--------|----------|\n| 1 | file | `templates/name.tmpl.sh` |\n| 2 | cached | In-memory cache |\n| 3 | generated | Built-in `template/2` facts |\n\n### Customizing Templates\n\n**Step 1:** Configure to prefer files\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\n**Step 2:** Create custom template file\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\n**Step 3:** Templates auto-load\n```prolog\n?- render_named_template(bash_header, [description='My Script'], Code).\n```\n\n### Template Variables\n\nUse `{{variable}}` syntax:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\n### Enabling Caching\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are saved to `templates/cache/` for inspection.", "answer_tailored": true}
{"pair_id": "template-system_p1", "cluster_id": "template-system", "question": "What are named templates in UnifyWeaver?", "question_type": "medium", "answer": "Named templates in UnifyWeaver are a clean way to generate Bash code (and other target language code) without messy string concatenation. Instead of building code with `format/3` predicates, you use `render_named_template/3` to reference predefined templates by name.\n\n### Basic Usage\n\nTemplates replace this:\n```prolog\nformat(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body]).\n```\n\nWith this cleaner approach:\n```prolog\nrender_named_template(bash_header, [name=Name, body=Body], Code).\n```\n\n### How They Work\n\nTemplates use `{{variable}}` syntax for substitution:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\nWhen rendered, `{{pred}}` is replaced with the actual value from your parameter list.\n\n### Template Sources\n\nUnifyWeaver loads templates from multiple locations with configurable priority:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\nThis checks:\n1. **file** - External files in `templates/name.tmpl.sh`\n2. **cached** - In-memory cache\n3. **generated** - Built-in `template/2` facts\n\n### Customization\n\nYou can override built-in templates by creating files in the `templates/` directory:\n\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\nTemplates from files automatically take precedence when you configure file-first source order.\n\n### Caching\n\nEnable automatic caching to improve performance:\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are stored in `templates/cache/` for inspection and debugging.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "code-generation", "customization", "named-templates"], "original_answer": "## The Template System\n\nUnifyWeaver uses named templates to generate Bash code cleanly.\n\n### Why Templates?\n\n**Bad (concatenation):**\n```prolog\nformat(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body]).\n```\n\n**Good (templates):**\n```prolog\nrender_named_template(bash_header, [name=Name, body=Body], Code).\n```\n\n### Template Source Order\n\nTemplates are loaded from multiple sources:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n| Priority | Source | Location |\n|----------|--------|----------|\n| 1 | file | `templates/name.tmpl.sh` |\n| 2 | cached | In-memory cache |\n| 3 | generated | Built-in `template/2` facts |\n\n### Customizing Templates\n\n**Step 1:** Configure to prefer files\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\n**Step 2:** Create custom template file\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\n**Step 3:** Templates auto-load\n```prolog\n?- render_named_template(bash_header, [description='My Script'], Code).\n```\n\n### Template Variables\n\nUse `{{variable}}` syntax:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\n### Enabling Caching\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are saved to `templates/cache/` for inspection.", "answer_tailored": true}
{"pair_id": "template-system_p2", "cluster_id": "template-system", "question": "How do I customize generated code with templates?", "question_type": "medium", "answer": "To customize generated code in UnifyWeaver, use the template system which allows you to override default code generation patterns.\n\n## Configuration\n\nFirst, set template loading to prefer your custom files:\n\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\nThis tells UnifyWeaver to check for template files before using built-in defaults.\n\n## Creating Custom Templates\n\nCreate a template file in the `templates/` directory with the naming convention `name.tmpl.sh`:\n\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\nUse `{{variable}}` syntax for placeholders that will be filled in during code generation.\n\n## Using Templates\n\nTemplates are automatically loaded when referenced:\n\n```prolog\n?- render_named_template(bash_header, [description='My Script'], Code).\n```\n\n## Template Loading Priority\n\nUnifyWeaver checks these sources in order:\n\n| Priority | Source | Location |\n|----------|--------|----------|\n| 1 | file | `templates/name.tmpl.sh` |\n| 2 | cached | In-memory cache |\n| 3 | generated | Built-in `template/2` facts |\n\nThis design lets you override any built-in template by creating a file with the same name.\n\n## Advanced: Template Caching\n\nEnable caching to improve performance and inspect generated templates:\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are stored in `templates/cache/` for review.\n\nFor more details on Bash code generation, see `education/book-02-bash-target/`.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "code-generation", "customization", "named-templates"], "original_answer": "## The Template System\n\nUnifyWeaver uses named templates to generate Bash code cleanly.\n\n### Why Templates?\n\n**Bad (concatenation):**\n```prolog\nformat(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body]).\n```\n\n**Good (templates):**\n```prolog\nrender_named_template(bash_header, [name=Name, body=Body], Code).\n```\n\n### Template Source Order\n\nTemplates are loaded from multiple sources:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n| Priority | Source | Location |\n|----------|--------|----------|\n| 1 | file | `templates/name.tmpl.sh` |\n| 2 | cached | In-memory cache |\n| 3 | generated | Built-in `template/2` facts |\n\n### Customizing Templates\n\n**Step 1:** Configure to prefer files\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\n**Step 2:** Create custom template file\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\n**Step 3:** Templates auto-load\n```prolog\n?- render_named_template(bash_header, [description='My Script'], Code).\n```\n\n### Template Variables\n\nUse `{{variable}}` syntax:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\n### Enabling Caching\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are saved to `templates/cache/` for inspection.", "answer_tailored": true}
{"pair_id": "template-system_p3", "cluster_id": "template-system", "question": "What is the template source order?", "question_type": "medium", "answer": "## Template Source Order\n\nUnifyWeaver loads templates from multiple locations in priority order:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n| Priority | Source | Description |\n|----------|--------|-------------|\n| 1 | file | External template files in `templates/name.tmpl.sh` |\n| 2 | cached | In-memory template cache |\n| 3 | generated | Built-in `template/2` facts defined in code |\n\nThe system checks each source in order, using the first match found. This allows you to override built-in templates by placing custom versions in the `templates/` directory.\n\n### Configuring Source Order\n\nYou can customize which sources are used and their priority:\n\n```prolog\n% Only use files and built-in templates (skip cache)\n?- set_template_config_default([source_order([file, generated])]).\n```\n\n### Caching Behavior\n\nWhen `auto_cache(true)` is enabled, templates are cached after first use:\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are written to `templates/cache/` for inspection and debugging.\n\nSee education/book-02-bash-target/05_template_system.md for complete template system documentation.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "code-generation", "customization", "named-templates"], "original_answer": "## The Template System\n\nUnifyWeaver uses named templates to generate Bash code cleanly.\n\n### Why Templates?\n\n**Bad (concatenation):**\n```prolog\nformat(string(Code), '#!/bin/bash\\n~w() {\\n~w\\n}\\n', [Name, Body]).\n```\n\n**Good (templates):**\n```prolog\nrender_named_template(bash_header, [name=Name, body=Body], Code).\n```\n\n### Template Source Order\n\nTemplates are loaded from multiple sources:\n\n```prolog\n?- set_template_config_default([source_order([file, cached, generated])]).\n```\n\n| Priority | Source | Location |\n|----------|--------|----------|\n| 1 | file | `templates/name.tmpl.sh` |\n| 2 | cached | In-memory cache |\n| 3 | generated | Built-in `template/2` facts |\n\n### Customizing Templates\n\n**Step 1:** Configure to prefer files\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\n**Step 2:** Create custom template file\n```bash\n# templates/bash_header.tmpl.sh\n#!/bin/bash\n# Custom header for My Project\n# Description: {{description}}\n```\n\n**Step 3:** Templates auto-load\n```prolog\n?- render_named_template(bash_header, [description='My Script'], Code).\n```\n\n### Template Variables\n\nUse `{{variable}}` syntax:\n\n```bash\n{{pred}}() {\n    local key=\"$1:$2\"\n    [[ -n \"${{{pred}}_data[$key]}\" ]] && echo \"$key\"\n}\n```\n\n### Enabling Caching\n\n```prolog\n?- set_template_config_default([\n    source_order([file, cached, generated]),\n    auto_cache(true)\n]).\n```\n\nCached templates are saved to `templates/cache/` for inspection.", "answer_tailored": true}
{"pair_id": "template-customization_p0", "cluster_id": "template-customization", "question": "How do I override built-in templates?", "question_type": "medium", "answer": "To override built-in templates in UnifyWeaver's Bash target, create custom template files in your project's `templates/` directory that match the names of the built-in templates you want to replace.\n\n### Template Override Mechanism\n\nThe compiler checks for custom templates before using defaults. When you create a file like `templates/bash_header.tmpl.sh`, it automatically takes precedence over the built-in version.\n\n### Configuring Template Sources\n\nSet the template resolution order:\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\nThis tells the compiler to prefer file-based templates over generated defaults.\n\n### Common Templates to Override\n\n| Template | What It Controls |\n|----------|------------------|\n| `bash_header` | Shebang line and initial comments |\n| `facts/lookup_binary` | Binary fact lookup implementation |\n| `facts/stream` | Fact streaming implementation |\n| `recursion/bfs_loop` | BFS traversal structure |\n| `recursion/visited_check` | Visited node tracking |\n\n### Example: Custom Header Style\n\nCreate `templates/bash_header.tmpl.sh`:\n```bash\n#!/bin/bash\n# ========================================\n# Auto-generated by UnifyWeaver\n# Project: {{project_name}}\n# Generated: $(date)\n# ========================================\n# Predicate: {{pred}}\n# {{description}}\n```\n\nNow compile with your custom header:\n```prolog\n?- compile_predicate(ancestor/2, [], Code).\n```\n\n### Example: Alternative Lookup Function\n\nCreate `templates/facts/lookup_binary.tmpl.sh`:\n```bash\n# Lookup: {{pred}} (custom implementation)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local lookup_key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$lookup_key]\" ]]; then\n        echo \"$lookup_key\"\n        return 0\n    fi\n    return 1\n}\n```\n\n### Advantages\n\n- Customize output without touching compiler internals\n- Apply consistent styling across your organization\n- Templates can be versioned alongside your code\n- Share template libraries between projects\n\nFor complete details on the template system, see `education/book-02-bash-target/05_template_system.md`.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "override", "theming", "customization"], "original_answer": "## Overriding Built-in Templates\n\nCustomize generated code without modifying the compiler.\n\n### Available Templates\n\n| Template Name | Purpose |\n|---------------|--------|\n| `bash_header` | Script shebang and header comments |\n| `facts/lookup_binary` | Binary fact lookup function |\n| `facts/stream` | Fact streaming function |\n| `recursion/bfs_loop` | BFS traversal loop |\n| `recursion/visited_check` | Visited tracking logic |\n\n### Override Example: Custom Header\n\n**Create `templates/bash_header.tmpl.sh`:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\n**Use it:**\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n% Code now includes your custom header\n```\n\n### Override Example: Custom Function Style\n\n**Create `templates/facts/lookup_binary.tmpl.sh`:**\n```bash\n# {{pred}} - Lookup function (custom style)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$key]\" ]]; then\n        echo \"$key\"\n        return 0\n    fi\n    return 1\n}\n```\n\n### Benefits\n\n- No compiler modifications needed\n- Project-specific styling\n- Easy to version control templates\n- Can be shared across team", "answer_tailored": true}
{"pair_id": "template-customization_p1", "cluster_id": "template-customization", "question": "Can I add custom headers to generated scripts?", "question_type": "medium", "answer": "Yes, you can add custom headers to generated scripts by overriding the `bash_header` template.\n\n**Create `templates/bash_header.tmpl.sh`:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\n**Enable your custom template:**\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n% Code now includes your custom header\n```\n\nThe template system lets you customize any generated code component without modifying the compiler itself. Available template variables include `{{project_name}}`, `{{pred}}`, and `{{description}}`. You can also override other templates like `facts/lookup_binary` for custom function styles, `facts/stream` for fact streaming, or `recursion/bfs_loop` for traversal logic.\n\nThis approach keeps your customizations separate from the compiler, making them easy to version control and share across your team. For more details on the template system, see education/book-02-bash-target/05_template_system.md.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "override", "theming", "customization"], "original_answer": "## Overriding Built-in Templates\n\nCustomize generated code without modifying the compiler.\n\n### Available Templates\n\n| Template Name | Purpose |\n|---------------|--------|\n| `bash_header` | Script shebang and header comments |\n| `facts/lookup_binary` | Binary fact lookup function |\n| `facts/stream` | Fact streaming function |\n| `recursion/bfs_loop` | BFS traversal loop |\n| `recursion/visited_check` | Visited tracking logic |\n\n### Override Example: Custom Header\n\n**Create `templates/bash_header.tmpl.sh`:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\n**Use it:**\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n% Code now includes your custom header\n```\n\n### Override Example: Custom Function Style\n\n**Create `templates/facts/lookup_binary.tmpl.sh`:**\n```bash\n# {{pred}} - Lookup function (custom style)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$key]\" ]]; then\n        echo \"$key\"\n        return 0\n    fi\n    return 1\n}\n```\n\n### Benefits\n\n- No compiler modifications needed\n- Project-specific styling\n- Easy to version control templates\n- Can be shared across team", "answer_tailored": true}
{"pair_id": "template-customization_p2", "cluster_id": "template-customization", "question": "How do I theme UnifyWeaver output?", "question_type": "medium", "answer": "UnifyWeaver's template system lets you customize the appearance and style of generated code. To theme your output, create custom template files that override the built-in defaults.\n\n**Available Templates for Theming:**\n\n- `bash_header` - Controls script headers, shebangs, and comments\n- `facts/lookup_binary` - Styles fact lookup functions\n- `facts/stream` - Formats fact streaming functions\n- `recursion/bfs_loop` - Customizes traversal loop structure\n- `recursion/visited_check` - Adjusts visited tracking logic\n\n**Example: Custom Header Theme**\n\nCreate `templates/bash_header.tmpl.sh`:\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\nThen configure and compile:\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n```\n\n**Example: Themed Function Style**\n\nCreate `templates/facts/lookup_binary.tmpl.sh`:\n```bash\n# {{pred}} - Lookup function (custom style)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$key]\" ]]; then\n        echo \"$key\"\n        return 0\n    fi\n    return 1\n}\n```\n\nThis approach keeps your styling separate from the compiler, making it easy to maintain consistent themes across your project and share them with your team.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "override", "theming", "customization"], "original_answer": "## Overriding Built-in Templates\n\nCustomize generated code without modifying the compiler.\n\n### Available Templates\n\n| Template Name | Purpose |\n|---------------|--------|\n| `bash_header` | Script shebang and header comments |\n| `facts/lookup_binary` | Binary fact lookup function |\n| `facts/stream` | Fact streaming function |\n| `recursion/bfs_loop` | BFS traversal loop |\n| `recursion/visited_check` | Visited tracking logic |\n\n### Override Example: Custom Header\n\n**Create `templates/bash_header.tmpl.sh`:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\n**Use it:**\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n% Code now includes your custom header\n```\n\n### Override Example: Custom Function Style\n\n**Create `templates/facts/lookup_binary.tmpl.sh`:**\n```bash\n# {{pred}} - Lookup function (custom style)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$key]\" ]]; then\n        echo \"$key\"\n        return 0\n    fi\n    return 1\n}\n```\n\n### Benefits\n\n- No compiler modifications needed\n- Project-specific styling\n- Easy to version control templates\n- Can be shared across team", "answer_tailored": true}
{"pair_id": "template-customization_p3", "cluster_id": "template-customization", "question": "What templates can I customize?", "question_type": "medium", "answer": "You can customize several built-in templates to control how UnifyWeaver generates code:\n\n**Available Templates for Customization:**\n\n- `bash_header` - Controls the script shebang and header comments\n- `facts/lookup_binary` - Defines how binary fact lookup functions are generated\n- `facts/stream` - Controls fact streaming function generation\n- `recursion/bfs_loop` - Customizes BFS traversal loop structure\n- `recursion/visited_check` - Modifies visited node tracking logic\n\n**How to Customize:**\n\nCreate template files in your `templates/` directory matching these names (e.g., `templates/bash_header.tmpl.sh`). Your custom templates can use placeholders like `{{project_name}}`, `{{pred}}`, and `{{description}}`.\n\n**Example - Custom Header:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\nConfigure template loading with:\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n```\n\nThis approach lets you maintain project-specific code styles without modifying the compiler itself. Your custom templates can be version controlled and shared with your team.\n\nFor comprehensive details on the template system, see `education/book-02-bash-target/05_template_system.md`.", "answer_variant": "default", "answer_source": "education/book-02-bash-target/05_template_system.md", "topics": ["templates", "override", "theming", "customization"], "original_answer": "## Overriding Built-in Templates\n\nCustomize generated code without modifying the compiler.\n\n### Available Templates\n\n| Template Name | Purpose |\n|---------------|--------|\n| `bash_header` | Script shebang and header comments |\n| `facts/lookup_binary` | Binary fact lookup function |\n| `facts/stream` | Fact streaming function |\n| `recursion/bfs_loop` | BFS traversal loop |\n| `recursion/visited_check` | Visited tracking logic |\n\n### Override Example: Custom Header\n\n**Create `templates/bash_header.tmpl.sh`:**\n```bash\n#!/bin/bash\n# ========================================\n# Generated by UnifyWeaver\n# Project: {{project_name}}\n# Date: $(date)\n# ========================================\n# Predicate: {{pred}}\n# Description: {{description}}\n```\n\n**Use it:**\n```prolog\n?- set_template_config_default([source_order([file, generated])]).\n?- compile_predicate(ancestor/2, [], Code).\n% Code now includes your custom header\n```\n\n### Override Example: Custom Function Style\n\n**Create `templates/facts/lookup_binary.tmpl.sh`:**\n```bash\n# {{pred}} - Lookup function (custom style)\n{{pred}}() {\n    local arg1=\"$1\" arg2=\"$2\"\n    local key=\"${arg1}:${arg2}\"\n    \n    if [[ -v \"{{pred}}_data[$key]\" ]]; then\n        echo \"$key\"\n        return 0\n    fi\n    return 1\n}\n```\n\n### Benefits\n\n- No compiler modifications needed\n- Project-specific styling\n- Easy to version control templates\n- Can be shared across team", "answer_tailored": true}
